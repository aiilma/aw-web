(this["webpackJsonpaw.client"]=this["webpackJsonpaw.client"]||[]).push([[4],{390:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(16),i=a(42),c=a(43),u=a(44),s=a(0),o=a.n(s),l=a(18),d=a(2),m=a(13),p=a(185),b=a(37),h=a(132);var f=function(e){var t=o.a.useState(!1),a=Object(b.a)(t,2),n=a[0],r=a[1];return e.isSubmitting&&r(!0),o.a.createElement(h.b,null,o.a.createElement(h.a,{variant:"outlined",onClick:e.onBack,disabled:n},"Back"),o.a.createElement(h.a,{variant:"contained",onClick:e.onReset,disabled:n},"Reset"),o.a.createElement(h.a,{variant:"contained",type:"submit",label:"Submit",disabled:n},"Send"))},v=a(26),g=a(144),y=a(175),k=a(80),E=a(381),O=function(e){var t=e.handleSubmit,a=e.handleReset,n=e.handleBack,r=e.isSubmitting;return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(v.d,{opacity:90}),o.a.createElement(p.a,null,o.a.createElement(g.b,{caption:"Cover letter to designers"},o.a.createElement("form",{noValidate:!0,onSubmit:t},o.a.createElement(y.a,null,o.a.createElement(m.a,{name:"typeVariant"},(function(e){var t=e.field,a=e.form,n=a.errors,r=a.touched,i=a.values;return o.a.createElement(y.b,Object.assign({error:n.typeVariant,touched:r.typeVariant,label:"Variant:",isFetching:!1,handleChecked:function(e){return i.typeVariant.includes(e)}},t),o.a.createElement(E.a,{value:"long",cap:"Long"}),o.a.createElement(E.a,{value:"short",cap:"Short"}))})),o.a.createElement(m.a,{component:k.a,name:"description",label:"Description",multiline:!0})),o.a.createElement(f,{onReset:a,onBack:n,isSumbitting:r})))))},j=a(103),S=a(87),V=a(24),w=a.n(V),R=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"send",value:function(e){return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.awrap(this.postResource("/suggest",e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,this)}}]),t}(a(101).a),B=a(33),q={vldTypeVariant:function(){return B.a().required("Required").typeError("Wrong type")},vldDesc:function(e,t){return B.h().required("Required").typeError("Must be a string").min(e,"Minimal length is ".concat(e," characters")).max(t,"Maximum length is exceeded")}},x=10,C=3072,D=q.vldTypeVariant,F=q.vldDesc,M=Object(m.d)({mapPropsToValues:function(){return{typeVariant:[],description:""}},validationSchema:function(){return B.f().shape({typeVariant:D(),description:F(x,C)})},handleSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm,r=Object(d.a)(t,["setSubmitting","resetForm"]).props.enqueueSnackbar,i=Object(l.a)({},e);a(!0),(new R).send(i).then((function(e){a(!1),n(),r("OK",{variant:"success",autoHideDuration:5e3})})).catch((function(e){a(!1);var t=[400,403].includes(e.status)?e.data.message:"Whoops! Something went wrong...";r(t,{variant:"error",autoHideDuration:5e3})}))},enableReinitialize:!0,displayName:"SuggestForm"})(O),T=Object(j.withSnackbar)(Object(S.g)(M)),H=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"handleBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this.props.makeRequest;return o.a.createElement(T,{handleBack:this.handleBack.bind(this),makeRequest:e})}}]),t}(s.Component);t.default=H}}]);