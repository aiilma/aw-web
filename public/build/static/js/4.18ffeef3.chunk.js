(this["webpackJsonpaw.client"]=this["webpackJsonpaw.client"]||[]).push([[4],{407:function(e,t,a){"use strict";a.r(t);var n=a(33),r=a(66),i=a(41),c=a(40),u=a(0),o=a.n(u),s=a(12),l=a(9),d=a(16),m=a(209),p=a(81),b=a(145);var h=function(e){var t=o.a.useState(!1),a=Object(p.a)(t,2),n=a[0],r=a[1];return e.isSubmitting&&r(!0),o.a.createElement(b.b,null,o.a.createElement(b.a,{variant:"outlined",onClick:e.onBack,disabled:n},"Back"),o.a.createElement(b.a,{variant:"contained",onClick:e.onReset,disabled:n},"Reset"),o.a.createElement(b.a,{variant:"contained",type:"submit",label:"Submit",disabled:n},"Send"))},v=a(23),f=a(155),g=a(196),y=a(75),k=a(397),E=function(e){var t=e.handleSubmit,a=e.handleReset,n=e.handleBack,r=e.isSubmitting;return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(v.d,{opacity:90}),o.a.createElement(m.a,null,o.a.createElement(f.b,{caption:"Cover letter to designers"},o.a.createElement("form",{noValidate:!0,onSubmit:t},o.a.createElement(g.a,null,o.a.createElement(d.a,{name:"typeVariant"},(function(e){var t=e.field,a=e.form,n=a.errors,r=a.touched,i=a.values;return o.a.createElement(g.b,Object.assign({error:n.typeVariant,touched:r.typeVariant,label:"Variant:",isFetching:!1,handleChecked:function(e){return i.typeVariant.includes(e)}},t),o.a.createElement(k.a,{value:"long",cap:"Long"}),o.a.createElement(k.a,{value:"short",cap:"Short"}))})),o.a.createElement(d.a,{component:y.a,name:"description",label:"Description",multiline:!0})),o.a.createElement(h,{onReset:a,onBack:n,isSumbitting:r})))))},O=a(110),S=a(22),j=a(21),V=a.n(j),w=a(55),R=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).send=function(){var t=Object(w.a)(V.a.mark((function t(a){return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.postResource("/suggest",a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return a}(a(105).a),B=a(32),q={vldTypeVariant:function(){return B.a().required("Required").typeError("Wrong type")},vldDesc:function(e,t){return B.h().required("Required").typeError("Must be a string").min(e,"Minimal length is ".concat(e," characters")).max(t,"Maximum length is exceeded")}},x=10,C=3072,D=q.vldTypeVariant,F=q.vldDesc,M=Object(d.d)({mapPropsToValues:function(){return{typeVariant:[],description:""}},validationSchema:function(){return B.f().shape({typeVariant:D(),description:F(x,C)})},handleSubmit:function(e,t){var a=t.setSubmitting,n=t.resetForm,r=Object(l.a)(t,["setSubmitting","resetForm"]).props.enqueueSnackbar,i=Object(s.a)({},e);a(!0),(new R).send(i).then((function(e){a(!1),n(),r("OK",{variant:"success",autoHideDuration:5e3})})).catch((function(e){a(!1);var t=[400,403].includes(e.status)?e.data.message:"Whoops! Something went wrong...";r(t,{variant:"error",autoHideDuration:5e3})}))},enableReinitialize:!0,displayName:"SuggestForm"})(E),T=Object(O.b)(Object(S.g)(M)),H=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"handleBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this.props.makeRequest;return o.a.createElement(T,{handleBack:this.handleBack.bind(this),makeRequest:e})}}]),a}(u.Component);t.default=H}}]);