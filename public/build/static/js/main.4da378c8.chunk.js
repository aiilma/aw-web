(this["webpackJsonpaw.client"]=this["webpackJsonpaw.client"]||[]).push([[0],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(24),r=n.n(a),c=n(21),o=n(16),i=n(213),u=n.n(i),l=n(62),s=u.a.create({baseURL:"".concat("https://artworch.com","/api")}),m=function(){var e=localStorage.getItem(l.a._AUTH_TOK);return e&&(s.defaults.headers.common.Authorization="Bearer ".concat(e)),s},d=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"getResource",value:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.a.awrap(m().get(e));case 3:return t=n.sent,n.abrupt("return",t.data);case 7:if(n.prev=7,n.t0=n.catch(0),!n.t0.response){n.next=13;break}throw new Error("Could not fetch ".concat(e,", received ").concat(n.t0.response.status));case 13:if(!n.t0.request){n.next=17;break}throw new Error("Could not fetch ".concat(e,". Request issue"));case 17:throw new Error("Could not fetch ".concat(e,". Bad request's settings: ").concat(n.t0.message));case 18:case"end":return n.stop()}}),null,null,[[0,7]])}},{key:"postResource",value:function(e,t){var n;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.a.awrap(m().post(e,t));case 3:return n=a.sent,a.abrupt("return",n.data);case 7:if(a.prev=7,a.t0=a.catch(0),!a.t0.response){a.next=13;break}throw new Error("Could not send ".concat(e,", received ").concat(a.t0.response.status));case 13:if(!a.t0.request){a.next=17;break}throw new Error("Could not send ".concat(e,". Request issue"));case 17:throw new Error("Could not send ".concat(e,". Bad request's settings: ").concat(a.t0.message));case 18:case"end":return a.stop()}}),null,null,[[0,7]])}}]),e}()},116:function(e,t,n){"use strict";var a=n(8),r=n(0),c=n.n(r),o=n(369),i=n(75),u=n(370),l=n(6),s=n(2),m=n(39),d=n(173);function p(){var e=Object(a.a)(["\nmargin-right: 4px;\n&:hover {background-color: rgba(255, 255, 255, 0);}\n"]);return p=function(){return e},e}var f=Object(l.b)((function(e){var t=e.className,n=Object(s.a)(e,["className"]);return c.a.createElement(d.a,{className:t,component:m.a,to:"/",color:"inherit",disableRipple:!0},c.a.createElement("img",{src:n.src,width:n.size,height:n.size,alt:n.alt}))}))(p()),h=function(e){return c.a.createElement(f,{src:"/storage/images/logo_light.svg",size:32,alt:"".concat("artworch")})},b=n(37),g=n(383),v=n(231),E=n(87),O=n(324),j=n(62),x=n(45);var y=function(){var e=Object(r.useState)("#"),t=Object(b.a)(e,2),n=t[0],a=t[1],o=new x.a;return Object(r.useEffect)((function(){localStorage.getItem(j.a._STEAM_LINK)?a(localStorage.getItem(j.a._STEAM_LINK)):o.getSteamLink().then((function(e){a(e),localStorage.setItem(j.a._STEAM_LINK,e)}))}),[a,o]),!!n&&c.a.createElement(O.a,{href:n,color:"inherit"},"Login")},k=n(365),_=n(53),w=n(70),I=n(368),M=n(76);function A(){var e=Object(a.a)([""]);return A=function(){return e},e}var S=Object(l.b)((function(e){return c.a.createElement(d.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e.handler,color:"inherit"},e.isLoading?c.a.createElement(k.a,{variant:"circle",width:32,height:32}):c.a.createElement(g.a,{alt:e.nickname,src:e.avatar,style:{width:32,height:32}}))}))(A()),T=function(e){var t=e.items,n=e.open,a=e.handleClose,r=e.anchorEl;return c.a.createElement(v.a,{id:"menu-appbar",anchorEl:r,keepMounted:!0,elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:n,onClose:a,style:{top:"5px"}},t.map((function(e,t){return c.a.createElement(I.a,{key:"MenuItem_".concat(t),onClick:e.handler},e.caption)})))},L=Object(_.b)((function(e){return{userInfo:e.auth}}),{logout:M.b})(Object(E.g)((function(e){var t=e.logout,n=e.userInfo,a=n.user,o=a.avatar,i=a.nickname,u=a.roles,l=n.isLoading,s=Object(r.useState)(null),m=Object(b.a)(s,2),d=m[0],p=m[1],f=Boolean(d),h=new x.a,g=function(e){p(e.currentTarget)},v=function(){p(null)},E=[{caption:"Logout",handler:function(){v(),t()}}];u&&h.hasRole("admin",u)&&E.unshift({caption:"Admin Panel",handler:function(){v(),w.a.push("/admin")}});var O=c.a.createElement(T,{items:E,open:f,anchorEl:d,handleClose:v});return h.isAuth()?c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{nickname:i,avatar:o,isLoading:l,handler:g}),O):h.isAuth()?void 0:l?c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{isLoading:!0,handler:g}),O):c.a.createElement(y,null)})));function P(){var e=Object(a.a)(["\n    z-index: ",";\n"]);return P=function(){return e},e}var C=Object(l.b)(o.a)(P(),(function(e){return e.theme.zIndex.drawer+1}));t.a=function(){return c.a.createElement(C,{position:"fixed",color:"default"},c.a.createElement(u.a,{disableGutters:!0,style:{padding:"0 4px"}},c.a.createElement(i.a,{style:{flexGrow:1}},c.a.createElement(h,null)),c.a.createElement(L,null)))}},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return d}));var a=n(8),r=n(6),c=n(324);function o(){var e=Object(a.a)(["\n        display: flex;\n        justify-content: flex-start;\n                \n        ","\n        ","\n        ","\n"]);return o=function(){return e},e}function i(){var e=Object(a.a)(["\n    margin-top: ","px;\n    margin-left: ","px;\n"]);return i=function(){return e},e}function u(){var e=Object(a.a)(["\n"]);return u=function(){return e},e}function l(){var e=Object(a.a)(["\n    color: #FFFFFF;\n    text-decoration: none;\n"]);return l=function(){return e},e}var s=r.b.a(l()),m=(Object(r.b)(s)(u()),Object(r.b)(c.a)(i(),(function(e){return e.theme.spacing(3)}),(function(e){return e.theme.spacing(1)}))),d=r.b.div(o(),(function(e){return e.left&&"justify-content: flex-start;"}),(function(e){return e.center&&"justify-content: center;"}),(function(e){return e.right&&"justify-content: flex-end;"}))},139:function(e,t,n){"use strict";var a=n(88),r=n(24),c=n.n(r),o=n(21),i=n(16),u=n(42),l=n(43),s=n(44),m=n(101),d=n(204),p=n.n(d),f=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"getAllComps",value:function(){var e,t,n,a=arguments;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:1,t=p.a.stringifyUrl({url:"/compositions",query:{page:e}}),r.next=4,c.a.awrap(this.getResource("".concat(t)));case 4:return n=r.sent,r.abrupt("return",this._transformComps(n));case 6:case"end":return r.stop()}}),null,this)}},{key:"_transformComps",value:function(e){var t=e.current_page,n=e.last_page,a=e.per_page,r=e.total;return{compositions:e.data,currentPage:t,perPage:a,total:r,countPages:n}}}]),t}(m.a),h=n(70);n.d(t,"a",(function(){return g}));var b=new f,g=function(e){return function(t){return t({type:a.a}),b.getAllComps(e).then((function(e){var n;return t((n=e,{type:a.b,payload:n})),h.a.push("/compositions".concat(1===e.currentPage?"":"?page=".concat(e.currentPage))),e})).catch((function(e){var n;throw t((n=e,{type:a.c,payload:n})),e}))}}},144:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return E}));var a=n(2),r=n(8),c=n(0),o=n.n(c),i=n(6),u=n(164),l=n(26),s=n(129),m=n(75);n(130),n(79),n(13);function d(){var e=Object(r.a)(["\n    color: rgb(255, 152, 0);\n    padding-top: 8px;\n    padding-left: 16px;\n    padding-right: 16px;\n"]);return d=function(){return e},e}function p(){var e=Object(r.a)(["\n        margin-bottom: ","px;\n        padding: ","px;\n        "," {\n            margin-bottom: ","px;\n            padding: ","px;\n        },\n"]);return p=function(){return e},e}function f(){var e=Object(r.a)(["\n        width: auto;\n        margin-left: ","px;\n        margin-right: ","px;\n        "," {\n            width: 600px;\n            margin-left: auto;\n            margin-right: auto;\n        };\n"]);return f=function(){return e},e}var h=function(e){var t=e.text;return o.a.createElement(m.a,{component:"h1",variant:"h5",align:"center",color:"textPrimary",gutterBottom:!0},t)},b=Object(i.b)(u.a)(f(),(function(e){return e.theme.spacing(2)}),(function(e){return e.theme.spacing(2)}),(function(e){var t=e.theme;return t.breakpoints.up(600+2*t.spacing(2))})),g=function(e){var t=e.caption,n=void 0===t?"\u0411\u0435\u0437\u044b\u043c\u044f\u043d\u043d\u044b\u0439":t,a=e.size,r=void 0===a?"xl":a,c=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(l.g,null),o.a.createElement(b,{maxWidth:r},o.a.createElement(v,null,o.a.createElement(h,{text:n}),c)))},v=Object(i.b)(s.a)(p(),(function(e){return e.theme.spacing(3)}),(function(e){return e.theme.spacing(2)}),(function(e){var t=e.theme;return t.breakpoints.up(600+2*t.spacing(3))}),(function(e){return e.theme.spacing(6)}),(function(e){return e.theme.spacing(3)})),E=Object(i.b)((function(e){var t=e.className,n=Object(a.a)(e,["className"]);return o.a.createElement(m.a,{className:t},n.children)}))(d())},159:function(e,t,n){"use strict";var a=n(8),r=n(0),c=n.n(r),o=n(382),i=n(2),u=n(367),l=n(325),s=n(371),m=n(372),d=n(39);function p(e){var t=e.linkItems;Object(i.a)(e,["linkItems"]);return c.a.createElement(u.a,null,t.map((function(e){var t={};return e.handler&&(t.onClick=e.handler),c.a.createElement(l.a,Object.assign({button:!0,key:e.text,component:d.a,to:e.to},t),c.a.createElement(s.a,null,e.icon),c.a.createElement(m.a,{primary:e.text}))})))}var f=n(87),h=n(6),b=n(26);function g(){var e=Object(a.a)(["\nwidth: ","px;\nflex-shrink: 0;\n> div {\nwidth: ","px;\n}\n"]);return g=function(){return e},e}var v=Object(h.b)((function(e){return c.a.createElement(o.a,{className:e.className,variant:"permanent"},c.a.createElement(b.h,null),e.children)}))(g(),(function(e){return e.width}),(function(e){return e.width}));t.a=Object(f.g)((function(e){var t=e.links;return c.a.createElement(v,{width:240},c.a.createElement(p,{linkItems:t}))}))},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v}));var a=n(2),r=n(0),c=n.n(r),o=n(329),i=n(332),u=n(234),l=n(235),s=n(330),m=n(331),d=n(26),p=n(130),f=n(79),h=n.n(f);function b(e){return c.a.createElement(o.a,{style:{textAlign:"center",fontSize:"7.5rem"}},c.a.createElement("img",Object.assign({},e,{height:"100%",width:"100%",alt:"Composition Icon"})))}function g(e){var t=e.xs,n=void 0===t?12:t,r=Object(a.a)(e,["xs"]);return c.a.createElement(u.a,{container:!0},c.a.createElement(u.a,Object.assign({item:!0,xs:n},r),r.children))}function v(e){var t=e.error,n=e.touched,a=e.name,r=e.label,o=e.isFetching,u=e.children,f=e.handleChecked,g=e.onBlur,v=e.onChange;return c.a.createElement(l.a,{style:{backgroundColor:"#303030"},p:1},c.a.createElement(s.a,{component:"legend",style:{margin:"1rem 0",textAlign:"center"}},r),c.a.createElement(m.a,{row:!0,style:{justifyContent:"center"}},o?c.a.createElement(c.a.Fragment,null,c.a.createElement(d.b,null),c.a.createElement(d.b,null)):c.a.createElement(c.a.Fragment,null,c.a.Children.map(u,(function(e){var t=!!e.props.disabled,n="long"===e.props.value?"/storage/icons/long_icon.svg":"/storage/icons/short_icon.svg",r="long"===e.props.value?"/storage/icons/long_icon_active.svg":"/storage/icons/short_icon_active.svg",o=c.a.cloneElement(e,{name:a,checked:f(e.props.value),color:"default",style:{borderRadius:0},icon:c.a.createElement(b,{src:n}),checkedIcon:c.a.createElement(b,{src:r}),onBlur:g,onChange:function(e){g(e),v(e)}});return c.a.createElement(i.a,{control:o,disabled:t,labelPlacement:"bottom",label:e.props.cap})})))),c.a.createElement(p.a,{in:!!t&&!!n},c.a.createElement(h.a,{variant:"filled",severity:"warning"},t)))}},185:function(e,t,n){"use strict";var a=n(2),r=n(8),c=n(0),o=n.n(c),i=n(6),u=n(327),l=n(116),s=n(164),m=n(26),d=n(222),p=n.n(d),f=n(223),h=n.n(f),b=n(159),g=n(139),v=n(53);function E(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    background-color: ",";\n"]);return E=function(){return e},e}function O(){var e=Object(r.a)(["\n    display: flex;\n    flex-direction: row;    \n    min-height: 100vh;\n"]);return O=function(){return e},e}var j=i.b.div(O()),x=Object(i.b)(s.a)(E(),(function(e){return e.theme.palette.background.default}));t.a=Object(v.b)(null,{getCompList:g.a})((function(e){var t=e.children,n=Object(a.a)(e,["children"]).getCompList,r=[{text:"Compositions",to:"/compositions",icon:o.a.createElement(p.a,null),handler:function(e){return n(1)}},{text:"Suggest",to:"/suggest",icon:o.a.createElement(h.a,null)}];return o.a.createElement(j,null,o.a.createElement(u.a,null),o.a.createElement(l.a,null),o.a.createElement(b.a,{links:r}),o.a.createElement(x,{component:"main",maxWidth:"xl"},o.a.createElement(m.h,null),t,o.a.createElement(m.h,null)))}))},248:function(e,t,n){e.exports=n(320)},25:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return m}));var a="auth/STEAM_LOGIN",r="auth/STEAM_LOGIN_COMPLETED",c="auth/STEAM_LOGIN_FAILED",o="auth/STEAM_LOGOUT",i="auth/STEAM_LOGOUT_COMPLETED",u="auth/STEAM_LOGOUT_FAILED",l="auth/STEAM_USER",s="auth/SET_USER_COMPLETED",m="auth/SET_USER_FAILED"},26:function(e,t,n){"use strict";n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return I})),n.d(t,"a",(function(){return M})),n.d(t,"e",(function(){return A})),n.d(t,"d",(function(){return S})),n.d(t,"f",(function(){return T})),n.d(t,"b",(function(){return L}));var a=n(2),r=n(8),c=n(6),o=n(164),i=n(75),u=n(0),l=n.n(u),s=n(335),m=n(334),d=n(39),p=n(326),f=n(174);function h(){var e=Object(r.a)(["\ndisplay: inline-block;\nmargin: 0px ","px;\n"]);return h=function(){return e},e}function b(){var e=Object(r.a)(['\n    display: block;\n    position: relative;\n    width: 100%;\n    min-height: 96px;\n    background-image: url("https://hello-site.ru//main/images/preloads/tail-spin.svg");\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: 96px;\n']);return b=function(){return e},e}function g(){var e=Object(r.a)(["\n    display: block;\n    position: fixed;\n    z-index: 99999;\n    top: 0;\n    left: 0;\n    width 100%;\n    height: 100%;\n    min-width: 1000px;\n    background-color: rgba(33, 33, 33, ",'%);\n    background-image: url("https://hello-site.ru//main/images/preloads/tail-spin.svg");\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: 96px;\n']);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n        padding: ","px 0;\n    "]);return v=function(){return e},e}function E(){var e=Object(r.a)(["\n        padding-top: ","px;\n        padding-bottom: ","px;\n        background-color: rgba(33,33,33,.95);\n        border-radius: 20px;\n"]);return E=function(){return e},e}function O(){var e=Object(r.a)([""]);return O=function(){return e},e}function j(){var e=Object(r.a)(["\n    padding: ",";\n"]);return j=function(){return e},e}function x(){var e=Object(r.a)(["\n    toolbar: ",";\n"]);return x=function(){return e},e}function y(){var e=Object(r.a)(["\n    ","\n"]);return y=function(){return e},e}var k=c.b.div(y(),(function(e){var t=e.theme;return"\n        display: flex;\n        height: 100vh;\n        flex-grow: 1;\n        background: ".concat(t.palette.background.default,";\n    ")})),_=(Object(f.a)((function(e){var t=e.theme;return l.a.createElement(k,{theme:t},e.children)})),c.b.div(x(),(function(e){return e.theme.mixins.toolbar}))),w=c.b.div(j(),(function(e){return e.theme.spacing(4,0)})),I=Object(c.b)((function(e){return l.a.createElement(w,null,l.a.createElement(o.a,{maxWidth:"xl"},l.a.createElement(i.a,{component:"h1",variant:"h5",align:"left",color:"textPrimary"},e.title)))}))(O()),M=Object(c.b)(o.a).attrs({maxWidth:"xl"})(E(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(1)})),A=Object(c.b)((function(e){var t=e.className,n=Object(a.a)(e,["className"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t},n.count>1?l.a.createElement(s.a,n):null))})).attrs({renderItem:function(e){return l.a.createElement(m.a,Object.assign({component:d.a,to:"/compositions".concat(1===e.page?"":"?page=".concat(e.page))},e))}})(v(),(function(e){var t=e.theme,n=e.spacing,a=void 0===n?2:n;return t.spacing(a)})),S=c.b.div(g(),(function(e){var t=e.opacity;return void 0===t?95:t})),T=c.b.div(b()),L=Object(c.b)((function(e){var t=e.size,n=void 0===t?48:t,r=Object(a.a)(e,["size"]);return l.a.createElement("div",{className:r.className},l.a.createElement(p.a,{size:n,color:"inherit"}))}))(h(),(function(e){var t=e.theme,n=e.sideMargin,a=void 0===n?4:n;return t.spacing(a)}))},320:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"app",(function(){return h})),n.d(a,"compList",(function(){return E})),n.d(a,"auth",(function(){return y}));var r=n(0),c=n.n(r),o=n(12),i=n.n(o),u=n(118),l=n(212),s=n(18),m={initialized:!1,isError:!1};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(t.payload,n){case"app/APP_INIT":return Object(s.a)({},e,{initialized:!1,isError:!1});case"app/APP_INIT_COMPLETED":return Object(s.a)({},e,{initialized:!0,isError:!1});case"app/APP_INIT_FAILED":return Object(s.a)({},e,{initialized:!1,isError:!0});default:return e}},p=n(76),f=n(45),h=d,b=n(15),g=n(88),v={isFetching:!0,currentPage:1,total:0,perPage:8,countPages:0,compositions:[],isError:!1};n(139);var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case g.a:return Object(s.a)({},e,{isError:!1,isFetching:!0});case g.b:return Object(s.a)({},e,{isError:!1,isFetching:!1,currentPage:r.currentPage,total:r.total,perPage:r.perPage,countPages:r.countPages,compositions:Object(b.a)(r.compositions.map((function(e){return{link:e.link,title:e.title,price:e.price,author:e.author}})))});case g.c:return Object(s.a)({},v,{isError:!0,isFetching:!1});default:return e}},O=n(25),j={id:null,nickname:null,steamid:null,avatar:null,roles:null},x={user:j,isLoading:!1,isError:null};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=void 0===a?null:a;switch(n){case O.d:return Object(s.a)({},e,{isLoading:!0,isError:!1});case O.e:return Object(s.a)({},e,{isLoading:!1,isError:!1});case O.f:return Object(s.a)({},e,{isLoading:!1,isError:!0});case O.g:return Object(s.a)({},e,{isLoading:!0,isError:!1});case O.h:return Object(s.a)({},e,{isLoading:!1,isError:!1});case O.i:return Object(s.a)({},e,{isLoading:!1,isError:!0});case O.a:return Object(s.a)({},e,{isLoading:!0,isError:!1});case O.b:return Object(s.a)({},e,{isLoading:!1,isError:!1,user:Object(s.a)({},r)});case O.c:return Object(s.a)({},e,{isLoading:!1,isError:!0,user:j});default:return e}},k=["background: blue","color: white"].join(";"),_=["background: green","color: white"].join(";"),w=["background: darkorange","color: white"].join(";"),I=["background: red","color: white"].join(";"),M=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){return function(n){return function(a){if(!e)return n(a);var r=t.getState(),c=n(a),o=t.getState();return A("%c ".concat(a.type," "),L(a)),T("%cprev state","color: darkorange",r),T("%caction payload","color: blue",a.payload),T("%cnext state","color: darkgreen",o),S(),c}}}};function A(){var e="function"===typeof console.groupCollapsed?console.groupCollapsed:console.info;e.apply(void 0,arguments)}function S(){var e="function"===typeof console.groupEnd?console.groupEnd:console.info;e.apply(void 0,arguments)}function T(){var e;(e=console).info.apply(e,arguments)}function L(e){return e.meta&&e.meta.async?e.type.indexOf("_COMPLETED")>-1?_:e.type.indexOf("_FAILED")>-1?I:w:k}var P=Object(u.c)(a),C=Object(u.d)(P,Object(u.a)(l.a,M(!1))),N=n(53),F=n(21),R=n(16),z=n(42),D=n(43),U=n(44),q=n(87),B=n(70),V=n(2),X=n(8),G=n(6),W=n(327),H=n(116),K=n(1),Z=n(75);function $(){var e=Object(X.a)([""]);return $=function(){return e},e}function J(){var e=Object(X.a)(["\n    text-align: center;\n    margin: auto 0 0;\n    background-color: ",";\n    padding: ","px;\n"]);return J=function(){return e},e}var Y=G.b.footer(J(),(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.spacing(2)})),Q=Object(G.b)(Z.a)($()),ee=function(e){Object(K.a)({},e);return c.a.createElement(Y,null,c.a.createElement(Q,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 Artworch ".concat((new Date).getFullYear(),".")))},te=n(164),ne=n(26);function ae(){var e=Object(X.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    background-color: ",";\n"]);return ae=function(){return e},e}function re(){var e=Object(X.a)(["\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n"]);return re=function(){return e},e}var ce=G.b.div(re()),oe=Object(G.b)(te.a)(ae(),(function(e){return e.theme.palette.background.default}));var ie=function(e){var t=e.children;return Object(V.a)(e,["children"]),c.a.createElement(ce,null,c.a.createElement(W.a,null),c.a.createElement(H.a,null),c.a.createElement(oe,{component:"main",maxWidth:"xl"},c.a.createElement(ne.h,null),t),c.a.createElement(ee,null))},ue=n(180),le=n(39);function se(){var e=Object(X.a)(["\n    position: relative;\n    padding: ",";\n    \n    ",":hover & {\n        border: 4px solid currentColor;\n    }\n"]);return se=function(){return e},e}function me(){var e=Object(X.a)(["\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: ",";\n"]);return me=function(){return e},e}function de(){var e=Object(X.a)(["\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        opacity: 0.4;\n        \n        background-color: ",";\n        transition: ",";\n        \n        ",":hover & {\n            opacity: 0.15;\n        }\n"]);return de=function(){return e},e}function pe(){var e=Object(X.a)(["\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        background-size: cover;\n        background-position: center 40%;\n        background-image: url('","');\n"]);return pe=function(){return e},e}function fe(){var e=Object(X.a)(["\n        will-change: transform;\n        width: 450px;\n        height: 300px;\n        position: relative;\n        margin: 6% 3%;\n        box-shadow: 0 2px 2px 1px rgba(0, 0, 0, .95);\n        transition: all .15s ease-in-out;\n        transform: rotate(","deg);\n        \n        ","\n        \n        &:hover {\n            box-shadow: 0 5px 8px 2px rgba(0, 0, 0, .95);\n            z-index: 1;\n        }\n        \n        &:active {\n            color: rgba(255, 255, 255, .95);\n            box-shadow: 0 5px 8px 2px rgba(243, 156, 18, .95);\n            transition: all .75s ease-in-out;\n        }\n"]);return fe=function(){return e},e}var he=Object(G.b)(ue.a)(fe(),(function(e){return e.rotate}),(function(e){var t=e.theme;return"\n            ".concat(t.breakpoints.down("xs")," {\n                    width: 100% !important;\n                    height: 100px;\n                }\n        ")})),be=G.b.span(pe(),(function(e){return e.image})),ge=G.b.span(de(),(function(e){return e.theme.palette.common.black}),(function(e){return e.theme.transitions.create("opacity")}),he),ve=G.b.span(me(),(function(e){return e.theme.palette.common.white})),Ee=Object(G.b)(Z.a)(se(),(function(e){var t=e.theme;return"".concat(t.spacing(2),"px ").concat(t.spacing(4),"px ").concat(t.spacing(1)+6,"px")}),he),Oe=c.a.memo((function(e){var t=e.image;Object(V.a)(e,["image"]);return c.a.createElement(he,{component:le.a,to:t.to,rotate:t.rotate,focusRipple:!0,p:5},c.a.createElement(be,{image:"/storage/images/".concat(t.url)}),c.a.createElement(ge,null),c.a.createElement(ve,null,c.a.createElement(Ee,{component:"span",variant:"subtitle1",color:"inherit"},t.title)))}));function je(){var e=Object(X.a)(["\n        display: flex;\n        flex-wrap: wrap;\n        width: 100%;\n        margin: auto;\n        justify-content: center;\n"]);return je=function(){return e},e}var xe=G.b.div(je()),ye=function(e){var t=e.images;Object(V.a)(e,["images"]);return c.a.createElement(xe,null,t.map((function(e){return c.a.createElement(Oe,{key:e.title,image:e})})))};var ke=Object(N.b)(null,{login:p.a})((function(e){var t=e.login,n=e.history.location.search;return Object(r.useEffect)((function(){t(n)}),[n,t]),c.a.createElement(ie,null,c.a.createElement(ye,{images:[{url:"aw_ae_workflow.png",title:"Make a suggestion",rotate:"4",to:"/suggest"},{url:"aw_steam_profile.png",title:"View compositions",width:"50%",rotate:"-9",to:"/compositions"}]}))})),_e=n(235);n(185);function we(e){var t=Object(K.a)({},e),n=(!!t.location.state&&t.location.state).message;return c.a.createElement(ie,null,c.a.createElement(_e.a,{justifyContent:"center",m:"auto"},c.a.createElement(_e.a,null,c.a.createElement(Z.a,{align:"center",variant:"h4"},"Whoops! Something has gone wrong...")),c.a.createElement(_e.a,null,!!n&&c.a.createElement(Z.a,{align:"center",variant:"h6"},n))))}var Ie=c.a.lazy((function(){return n.e(3).then(n.bind(null,389))})),Me=c.a.lazy((function(){return n.e(4).then(n.bind(null,390))})),Ae=n(103),Se=Object(Ae.withSnackbar)((function(e){var t=e.component,n=Object(V.a)(e,["component"]),a=new f.a;return a.isAuth()||n.enqueueSnackbar("You must be logged in.",{variant:"info",autoHideDuration:5e3}),c.a.createElement(q.b,Object.assign({},n,{render:function(e){return a.isAuth()?c.a.createElement(t,e):c.a.createElement(q.a,{to:{pathname:"/",state:{from:e.location}}})}}))})),Te=function(e){var t=e.component,n=e.restricted,a=Object(V.a)(e,["component","restricted"]),r=new f.a;return c.a.createElement(q.b,Object.assign({},a,{render:function(e){return r.isAuth()&&n?c.a.createElement(q.a,{to:"/account"}):c.a.createElement(t,e)}}))},Le=Object(N.b)((function(e){return{userInfo:e.auth}}),null)((function(e){var t=e.component,n=Object(V.a)(e,["component"]),a=n.userInfo.user.roles||[],r=new f.a;return c.a.createElement(q.b,Object.assign({},n,{render:function(e){return r.hasRole("admin",a)?c.a.createElement(t,e):c.a.createElement(q.a,{to:{pathname:"/",state:{from:e.location}}})}}))})),Pe=n(225),Ce=n.n(Pe),Ne=n(224),Fe=n.n(Ne),Re=n(159);function ze(){var e=Object(X.a)(["\n    display: flex;\n    flex-direction: column;\n    flex-grow: 1;\n    background-color: ",";\n"]);return ze=function(){return e},e}function De(){var e=Object(X.a)(["\n    display: flex;\n    flex-direction: row;    \n    min-height: 100vh;\n"]);return De=function(){return e},e}var Ue=G.b.div(De()),qe=Object(G.b)(te.a)(ze(),(function(e){return e.theme.palette.background.default}));var Be=function(e){var t=e.children,n=(Object(V.a)(e,["children"]),[{text:"Dashboard",to:"/admin",icon:c.a.createElement(Fe.a,null)},{text:"Upload Compsition",to:"/admin/comps/upload",icon:c.a.createElement(Ce.a,null)}]);return c.a.createElement(Ue,null,c.a.createElement(W.a,null),c.a.createElement(H.a,null),c.a.createElement(Re.a,{links:n}),c.a.createElement(qe,{component:"main",maxWidth:"xl"},c.a.createElement(ne.h,null),t,c.a.createElement(ne.h,null)))},Ve=function(e){function t(){return Object(F.a)(this,t),Object(z.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return c.a.createElement(Be,null,"dashboard")}}]),t}(r.Component),Xe=n(13),Ge=n(144),We=n(175),He=n(37),Ke=n(132),Ze=n(234),$e=n(324),Je=n(228),Ye=n.n(Je);function Qe(e){var t=c.a.useState(!1),n=Object(He.a)(t,2),a=n[0],r=n[1];return e.isSubmitting&&r(!0),c.a.createElement(Ke.b,null,c.a.createElement(Ke.a,{variant:"outlined",onClick:e.onBack,disabled:a},"Back"),c.a.createElement(Ke.a,{variant:"contained",onClick:e.onReset,disabled:a},"Reset"),c.a.createElement(Ke.a,{variant:"contained",type:"submit",label:"Submit",disabled:a},"Publish"))}function et(e){var t=e.addPlaceholder,n=e.disabled;return c.a.createElement(_e.a,{mt:2},c.a.createElement(Ze.a,{container:!0},c.a.createElement(Ze.a,{item:!0,xs:12},c.a.createElement($e.a,{variant:"contained",startIcon:c.a.createElement(Ye.a,null),fullWidth:!0,onClick:t,disabled:n},"Add Placeholder"))))}var tt=n(80),nt=n(376),at=n(33),rt={ADDINPUT_MIN_LEN:1,ADDINPUT_MAX_LEN:32,ADDINPUT_MAX_CNT:5,TITLE_MIN_LEN:1,TITLE_MAX_LEN:32,PRICE_MIN_LEN:5,PRICE_MAX_LEN:99999,FILE_FORMATS:{image:["image/gif"],srcProject:["application/x-compressed","application/x-zip-compressed","application/zip","multipart/x-zip"]},FILE_IMAGE_MIN_SIZE:10485.76,FILE_IMAGE_MAX_SIZE:15728640,FILE_SP_MIN_SIZE:104.8576,FILE_SP_MAX_SIZE:52428800},ct=function(){var e=function(e){if(0===e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return"".concat(Math.round(e/Math.pow(1024,t),2)," ").concat(["Bytes","KB","MB","GB","TB"][t])},t=function(t){var n=t.formats,a=t.minSize,r=t.maxSize;return at.d().required("Required").test("fileFormat","Unsupported Format",(function(e){return e&&n.includes(e.type)})).test("fileMinSize",(function(){return"Min file size is ".concat(e(a))}),(function(e){return e&&e.size>=a})).test("fileMaxSize",(function(){return"Max file size is ".concat(e(r))}),(function(e){return e&&e.size<=r}))};return{vldTypeVariant:function(){return at.h().required("Required").typeError("Wrong type")},vldTitle:function(e,t){return at.h().required("Required").typeError("Must be a string").min(e,"Minimal length is ".concat(e," characters")).max(t,"Maximum length is exceeded")},vldPrice:function(e,t){return at.e().required("Required").typeError("Must be a number").moreThan(e,"Must be more than ".concat(e)).lessThan(t,"Must be less than ".concat(t))},vldFileImage:function(){var e=rt.FILE_FORMATS.image;return t({formats:e,minSize:rt.FILE_IMAGE_MIN_SIZE,maxSize:rt.FILE_IMAGE_MAX_SIZE})},vldFileSourceProject:function(){var e=rt.FILE_FORMATS.srcProject;return t({formats:e,minSize:rt.FILE_SP_MIN_SIZE,maxSize:rt.FILE_SP_MAX_SIZE})}}}(),ot=function(){var e=function(e,t,n){var a=n.message;return at.f().shape({value:at.e().required("Required").typeError("Must be a number").moreThan(e,"Must be more than ".concat(e)).lessThan(t,"Must be less than ".concat(t))}).test({name:"minLessThanMax",test:function(){var e=this.parent,t=e.min,n=e.max;return t.value<n.value||this.createError({message:a,path:"".concat(this.path,".value")})}})};return{vldName:function(e,t){return at.h().required("Required").typeError("Must be a string").min(e,"Minimal length is ".concat(e," characters")).max(t,"Maximum length is exceeded")},vldMin:function(t,n){return e(t,n,{message:"Must be less than max value"})},vldMax:function(t,n){return e(t,n,{message:"Must be more than min value"})},vldRequired:function(){return at.b().typeError("Must be required or not")}}}(),it=n(79),ut=n.n(it),lt=n(130);function st(){var e=Object(X.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  border: 2px dashed #ff9800;\n  border-radius: 2px;\n  background-color: transparent;\n  color: rgba(255, 255, 255, 0.7);\n  outline: none;\n  transition: border .24s ease-in-out;\n  cursor: pointer;\n  \n  & input[type=file] {\n    display:none;\n  }\n "]);return st=function(){return e},e}var mt=Object(G.b)((function(e){var t=e.className,n=Object(V.a)(e,["className"]);return c.a.createElement("div",Object.assign({className:t},n),n.children)}))(st()),dt=function(e){function t(e){var n;return Object(F.a)(this,t),(n=Object(z.a)(this,Object(D.a)(t).call(this,e))).showFileUpload=function(){n.fileUpload&&n.fileUpload.current.click()},n.fileUpload=c.a.createRef(),n}return Object(U.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props,t=e.zoneText,n=e.accept,a=e.name,r=e.values,o=e.touched,i=e.errors,u=e.setFieldValue,l=e.setFieldTouched,s=Object(Xe.c)(r,"".concat(a)),m=s&&!1===!!Object(Xe.c)(i,"".concat(a))?s.name:null;return c.a.createElement(_e.a,{mt:2},c.a.createElement(mt,{onClick:this.showFileUpload},c.a.createElement("input",{accept:n,type:"file",ref:this.fileUpload,id:a,name:a,onChange:function(e){l(a,!0),u(a,e.target.files[0])}}),c.a.createElement(Z.a,{variant:"body1"},t)),c.a.createElement(lt.a,{in:!!Object(Xe.c)(i,a)&&!!Object(Xe.c)(o,a)},c.a.createElement(ut.a,{variant:"filled",severity:"warning"},Object(Xe.c)(i,a))),m)}}]),t}(r.Component),pt=n(230),ft=n.n(pt),ht=n(173),bt=n(377);function gt(){var e=Object(X.a)(["\n"]);return gt=function(){return e},e}function vt(){var e=Object(X.a)(["\n& .MuiIconButton-root {\npadding: 0;\n}\n"]);return vt=function(){return e},e}var Et=Object(G.b)((function(e){var t=e.className,n=Object(V.a)(e,["className"]).onRemove;return c.a.createElement(nt.a,{position:"end",className:t},c.a.createElement(ht.a,{onClick:n},c.a.createElement(ft.a,null)))}))(vt()),Ot=Object(G.b)((function(e){e.className;var t=Object(V.a)(e,["className"]),n=t.attrOpened,a=t.onChange;return c.a.createElement(bt.a,{checked:n,color:"default",size:"small",edge:"start",disableRipple:!0,onChange:a})}))(gt()),jt=n(332),xt=n(381),yt=n(367),kt=n(325),_t=function(e){var t=e.name,n=e.setAttrOpened;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge.a,null,"Attributes:"),c.a.createElement(yt.a,{dense:!0,disablePadding:!0},c.a.createElement(kt.a,null,c.a.createElement(Ze.a,{item:!0,xs:!0},c.a.createElement(Xe.a,{name:"".concat(t,".min.value")},(function(e){var t=e.field,a=e.form;return Object(Xe.c)(a.errors,t.name)&&n(!0),c.a.createElement(tt.a,{label:"Minimum",size:"small",field:t,form:a})})))),c.a.createElement(kt.a,null,c.a.createElement(Ze.a,{item:!0,xs:!0},c.a.createElement(Xe.a,{name:"".concat(t,".max.value")},(function(e){var t=e.field,a=e.form;return Object(Xe.c)(a.errors,t.name)&&n(!0),c.a.createElement(tt.a,{label:"Maximum",size:"small",field:t,form:a})})))),c.a.createElement(kt.a,null,c.a.createElement(Ze.a,{item:!0,xs:!0},c.a.createElement(Xe.a,{name:"".concat(t,".required")},(function(e){var t=e.field;return c.a.createElement(jt.a,{control:c.a.createElement(xt.a,Object.assign({color:"primary",size:"small",checked:t.value},t)),label:c.a.createElement(Z.a,{variant:"caption"},"Required"),labelPlacement:"end"})}))))))};var wt=function(e){var t=e.inputId,n=e.removePlaceholder,a=c.a.useState(!0),r=Object(He.a)(a,2),o=r[0],i=r[1],u="ph.".concat(t),l=c.a.createElement(Ot,{attrOpened:o,onChange:function(){return i(!o)}}),s=c.a.createElement(Et,{onRemove:n});return c.a.createElement(_e.a,{mt:5,mb:5},c.a.createElement(Xe.b,{component:tt.a,name:"".concat(u,".name"),label:"Additional placeholder's name",startAdornment:l,endAdornment:s}),c.a.createElement(lt.a,{in:o},c.a.createElement(_t,{name:"".concat(u,".attrs"),setAttrOpened:i})))};var It=function(e){var t=e.children;return c.a.createElement(_e.a,{mt:2,mb:2},c.a.Children.map(t,(function(e){return c.a.createElement(Xe.a,{name:e.props.name},(function(t){var n=t.field,a=t.form,r=a.values,o=a.touched,i=a.errors,u=a.setFieldValue,l=a.setFieldTouched;return c.a.cloneElement(e,Object(s.a)({values:r,touched:o,errors:i,setFieldValue:u,setFieldTouched:l},n))}))})))},Mt=n(379),At=function(e){var t=e.values,n=e.isSubmitting,a=e.handleSubmit,r=e.handleReset,o=e.handleBack,i=e.setFieldValue,u=rt.ADDINPUT_MAX_LEN,l=rt.ADDINPUT_MIN_LEN,s=rt.ADDINPUT_MAX_CNT,m=rt.FILE_FORMATS,d=m.image,p=m.srcProject,f=t.ph.length>=s;return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(ne.d,{opacity:90}),c.a.createElement(Be,null,c.a.createElement(Ge.b,{caption:"Upload Composition"},c.a.createElement("form",{noValidate:!0,onSubmit:a},c.a.createElement(We.a,null,c.a.createElement(Xe.a,{name:"typeVariant"},(function(e){var t=e.field,n=e.form,a=n.errors,r=n.touched,o=n.values;return c.a.createElement(We.b,Object.assign({error:a.typeVariant,touched:r.typeVariant,label:"Variant:",isFetching:!1,handleChecked:function(e){return o.typeVariant===e}},t),c.a.createElement(Mt.a,{value:"long",cap:"Long"}),c.a.createElement(Mt.a,{value:"short",cap:"Short"}))})),c.a.createElement(Xe.a,{component:tt.a,name:"title",label:"Title"}),c.a.createElement(Xe.a,{component:tt.a,name:"price",label:"Price",startAdornment:c.a.createElement(nt.a,{position:"start"},"$")}),c.a.createElement(It,null,c.a.createElement(dt,{name:"uploads.image",zoneText:"Select preview image",accept:d.join()}),c.a.createElement(dt,{name:"uploads.sourceProject",zoneText:"Select source project",accept:p})),t.ph.map((function(e,n){return c.a.createElement(wt,Object.assign({key:e.key,inputId:n,removePlaceholder:function(){return function(e){var n=t.ph.findIndex((function(t){return t.key===e})),a=[].concat(Object(b.a)(t.ph.slice(0,n)),Object(b.a)(t.ph.slice(n+1)));i("ph",a)}(e.key)}},e))})),c.a.createElement(et,{addPlaceholder:function(){var e,n={key:(e="addInput","".concat(e,"_").concat((new Date).getTime())),name:"",attrs:{min:{value:"".concat(l+1)},max:{value:"".concat(u-1)},required:!0}};!f&&i("ph",[].concat(Object(b.a)(t.ph),[n]))},disabled:f})),c.a.createElement(Qe,{onReset:r,onBack:o,isSumbitting:n})))))},St=rt.ADDINPUT_MAX_LEN,Tt=rt.ADDINPUT_MIN_LEN,Lt=rt.TITLE_MIN_LEN,Pt=rt.TITLE_MAX_LEN,Ct=rt.PRICE_MIN_LEN,Nt=rt.PRICE_MAX_LEN,Ft=ct.vldTypeVariant,Rt=ct.vldTitle,zt=ct.vldPrice,Dt=ct.vldFileImage,Ut=ct.vldFileSourceProject,qt=ot.vldName,Bt=ot.vldMin,Vt=ot.vldMax,Xt=ot.vldRequired,Gt=function(e){return at.f().shape({typeVariant:Ft(),title:Rt(Lt,Pt),price:zt(Ct,Nt),uploads:at.f().shape({image:Dt(),sourceProject:Ut()}),ph:at.a().of(at.f().shape({name:qt(Tt,St),attrs:at.f().shape({min:Bt(Tt,St),max:Vt(Tt,St),required:Xt()})}))})},Wt=n(24),Ht=n.n(Wt),Kt=function(e){function t(){var e,n;Object(F.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(z.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).PREFIX="/admin",n}return Object(U.a)(t,e),Object(R.a)(t,[{key:"uploadComp",value:function(e){var t,n,a,r,c,o;return Ht.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.typeVariant,n=e.title,a=e.price,r=e.uploads,c=e.ph,(o=new FormData).append("typeVariant",t),o.append("title",n),o.append("price",a),o.append("image",r.image),o.append("sourceProject",r.sourceProject),o.append("ph",JSON.stringify(c)),i.next=10,Ht.a.awrap(this.postResource("".concat(this.PREFIX,"/comps/upload"),o));case 10:return i.abrupt("return",i.sent);case 11:case"end":return i.stop()}}),null,this)}}]),t}(n(101).a),Zt=Object(Xe.d)({mapPropsToValues:function(){return{typeVariant:void 0,title:"",price:"",uploads:{image:null,sourceProject:null},ph:[]}},validationSchema:function(){return at.c((function(e){return Gt()}))},handleSubmit:function(e,t){var n=t.setSubmitting,a=t.resetForm,r=Object(V.a)(t,["setSubmitting","resetForm"]).props.enqueueSnackbar,c=Object(s.a)({},e);n(!0),(new Kt).uploadComp(c).then((function(e){n(!1),a(),r("OK",{variant:"success",autoHideDuration:5e3})})).catch((function(e){n(!1);var t=[400,403].includes(e.status)?e.data.message:"Whoops! Something went wrong...";r(t,{variant:"error",autoHideDuration:5e3})}))},enableReinitialize:!0,displayName:"AdminCompUploadForm"})(At),$t=Object(Ae.withSnackbar)(Object(q.g)(Zt)),Jt=function(e){function t(){return Object(F.a)(this,t),Object(z.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(R.a)(t,[{key:"handleBack",value:function(){this.props.history.goBack()}},{key:"render",value:function(){var e=this.props.makeRequest;return c.a.createElement($t,{handleBack:this.handleBack.bind(this),makeRequest:e})}}]),t}(r.Component),Yt=function(){return c.a.createElement(q.c,{history:B.a},c.a.createElement(q.d,null,c.a.createElement(Le,{exact:!0,path:"".concat("/admin"),component:Ve}),c.a.createElement(Le,{exact:!0,path:"".concat("/admin","/comps/upload"),component:Jt}),c.a.createElement(Se,{exact:!0,path:"/suggest",component:Me}),c.a.createElement(Te,{exact:!0,path:"/",component:ke,restricted:!1}),c.a.createElement(Te,{exact:!0,path:"/compositions",component:Ie,restricted:!1}),c.a.createElement(Te,{exact:!0,path:"*",component:we,restricted:!1})))},Qt=n(375),en=n(176),tn=n.n(en),nn=function(e){var t=tn()({palette:{type:"dark"},overrides:{MuiCssBaseline:{"@global":{"*::-webkit-scrollbar":{width:"0.4em"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.00)","background-color":"#212121"},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgb(193, 193, 193)",outline:"1px solid slategrey"}}},MuiSnackbarContent:{root:{color:"white"}},MuiCardActionArea:{root:{"&:hover $focusHighlight":{opacity:0}}},MuiAlert:{standardInfo:{backgroundColor:"#ff9800",color:"#fff","& $icon":{color:"#fff"}}},MuiCheckbox:{colorPrimary:{color:"#ff9800","&:hover":{backgroundColor:"rgba(255, 152, 0, 0.03)"},"&$checked":{color:"#ff9800","&:hover":{backgroundColor:"rgba(255, 152, 0, 0.03)"}}},checked:{}},MuiSwitch:{switchBase:{color:"rgb(193, 193, 193)","&$checked":{color:"#ff9800"},"&$checked + $track":{backgroundColor:"#ff9800"}},checked:{},track:{}}}});return c.a.createElement(Qt.a,{theme:t},c.a.createElement(G.a,{theme:t},c.a.createElement(Ae.SnackbarProvider,{maxSnack:3},c.a.createElement(W.a,null),e.children)))},an=n(378),rn=function(e){function t(){return Object(F.a)(this,t),Object(z.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.initApp)()}},{key:"render",value:function(){var e=this.props,t=e.initialized,n=e.isError,a=n?c.a.createElement(an.a,{severity:"error"},"Something has gone wrong"):null,o=t?null:c.a.createElement(ne.d,{opacity:90}),i=t&&!n?c.a.createElement(Yt,null):null;return c.a.createElement(nn,null,c.a.createElement(r.Suspense,{fallback:o},a,o,i))}}]),t}(c.a.Component),cn=Object(N.b)((function(e){return{initialized:e.app.initialized,isError:e.app.isError}}),{initApp:function(){return function(e){var t=[],n=new f.a;if(e({type:"app/APP_INIT"}),n.isAuth()){var a=e(Object(p.c)());t.push(a)}return Promise.all(t).then((function(){return e({type:"app/APP_INIT_COMPLETED"})})).catch((function(t){throw e({type:"app/APP_INIT_FAILED"}),t}))}}})(rn);i.a.render(c.a.createElement(N.a,{store:C},c.a.createElement(cn,null)),document.getElementById("root"))},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(24),r=n.n(a),c=n(21),o=n(16),i=n(42),u=n(43),l=n(44),s=n(101),m=n(62),d=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(o.a)(t,[{key:"getSteamLink",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(this.getResource("/login/steam"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,this)}},{key:"auth",value:function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(this.getResource("/login/steam/callback".concat(e)));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),null,this)}},{key:"logout",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(this.postResource("/logout"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,this)}},{key:"me",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(this.getResource("/user"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,this)}},{key:"isAuth",value:function(){return localStorage.getItem(m.a._AUTH_TOK)}},{key:"hasRole",value:function(e,t){return!!t.includes(e)}}]),t}(s.a)},62:function(e,t,n){"use strict";t.a={_STEAM_LINK:"steamAuthRedirectUrl",_AUTH_TOK:"_tok"}},70:function(e,t,n){"use strict";var a=n(48),r=Object(a.a)();t.a=r},76:function(e,t,n){"use strict";var a=n(70),r=n(62),c=n(25),o=n(45);n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var i=new o.a,u=function(){return function(e){return e({type:c.a}),i.me().then((function(t){return e((n=t,{type:c.b,payload:n}));var n})).catch((function(t){var n;throw e((n=t,{type:c.c,payload:n})),t}))}},l=function(e){return function(t){if(e)return t({type:c.d}),i.auth(e).then((function(e){localStorage.setItem(r.a._AUTH_TOK,e),t({type:c.e}),t(u()),a.a.push("/compositions")})).catch((function(e){var n;throw t((n=e,{type:c.f,payload:n})),e}))}},s=function(){return function(e){e({type:c.g}),i.logout().then((function(){e({type:c.h}),localStorage.removeItem(r.a._AUTH_TOK),a.a.push("/")})).catch((function(t){var n;throw e((n=t,{type:c.i,payload:n})),t}))}}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(2),r=n(8),c=n(6),o=n(333),i=n(13),u=n(0),l=n.n(u),s=n(235),m=n(130),d=n(79),p=n.n(d);function f(){var e=Object(r.a)(["\n  background-color: #303030;\n\n  label.Mui-focused {\n    color: white;\n  }\n  .MuiOutlinedInput-root {\n    border-radius: 0;\n    &:hover fieldset {\n      border-color: white;\n    }\n    &.focused fieldset {\n      border-color: white;\n    }\n  }\n  .MuiOutlinedInput-root.Mui-focused fieldset {\n    border-color: white;\n  }\n"]);return f=function(){return e},e}var h=Object(c.b)((function(e){var t=e.disableFullWidth,n=void 0!==t&&t,r=e.className,c=Object(a.a)(e,["disableFullWidth","className"]);return l.a.createElement(o.a,Object.assign({className:r,fullWidth:!n},c))})).attrs({variant:"outlined"})(f()),b=function(e){var t=e.field,n=e.form,r=n.errors,c=n.touched,o=e.label,u=void 0===o?"":o,d=e.startAdornment,f=void 0===d?null:d,b=e.endAdornment,g=void 0===b?null:b,v=Object(a.a)(e,["field","form","label","startAdornment","endAdornment"]);return l.a.createElement(s.a,{mt:2},l.a.createElement(h,Object.assign({InputProps:{startAdornment:f,endAdornment:g},label:u},t,v)),l.a.createElement(m.a,{in:!!Object(i.c)(r,t.name)&&!!Object(i.c)(c,t.name)},l.a.createElement(p.a,{variant:"filled",severity:"warning"},Object(i.c)(r,t.name))))}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c}));var a="compositions/FETCH_LIST",r="compositions/FETCH_LIST_COMPLETED",c="compositions/FETCH_LIST_FAILED"}},[[248,1,2]]]);