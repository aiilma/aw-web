{"ast":null,"code":"import axios from 'axios';\nimport store from '../store';\nimport * as actions from '../ducks/auth/actions';\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]');\n\nif (token) {\n  axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n  axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\n}\n\naxios.interceptors.response.use(response => response, error => {\n  if (error.response.status === 401) {\n    store.dispatch(actions.authLogout());\n  }\n\n  return Promise.reject(error);\n});\nexport default axios;","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/store/utils/Http.js"],"names":["axios","store","actions","token","document","head","querySelector","defaults","headers","common","content","interceptors","response","use","error","status","dispatch","authLogout","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAO,KAAKC,OAAZ,MAAyB,uBAAzB;AAEA,IAAIC,KAAK,GAAGC,QAAQ,CAACC,IAAT,CAAcC,aAAd,CAA4B,yBAA5B,CAAZ;;AACA,IAAIH,KAAJ,EAAW;AACPH,EAAAA,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,kBAA9B,IAAoD,gBAApD;AACAT,EAAAA,KAAK,CAACO,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgDN,KAAK,CAACO,OAAtD;AACH;;AAEDV,KAAK,CAACW,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACID,QAAQ,IAAIA,QADhB,EAEKE,KAAD,IAAW;AACP,MAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AAC/Bd,IAAAA,KAAK,CAACe,QAAN,CAAed,OAAO,CAACe,UAAR,EAAf;AACH;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeL,KAAf,CAAP;AACH,CAPL;AASA,eAAed,KAAf","sourcesContent":["import axios from 'axios'\r\nimport store from '../store'\r\nimport * as actions from '../ducks/auth/actions'\r\n\r\nlet token = document.head.querySelector('meta[name=\"csrf-token\"]');\r\nif (token) {\r\n    axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\r\n    axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;\r\n}\r\n\r\naxios.interceptors.response.use(\r\n    response => response,\r\n    (error) => {\r\n        if (error.response.status === 401) {\r\n            store.dispatch(actions.authLogout())\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\nexport default axios;"]},"metadata":{},"sourceType":"module"}