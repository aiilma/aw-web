{"ast":null,"code":"import _slicedToArray from\"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.server\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.server\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.server\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import IconButton from\"@material-ui/core/IconButton\";import{Avatar as MaterialAvatar}from\"@material-ui/core\";import{Menu as MaterialMenu}from\"@material-ui/core\";import MenuItem from\"@material-ui/core/MenuItem\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{logout}from\"../../../store/ducks/auth/operations\";import UserApi from'../../../store/utils/UserApi';import LoginButton from\"./LoginButton\";import Skeleton from\"@material-ui/lab/Skeleton\";import styled from'styled-components';var Avatar=styled(function(props){return React.createElement(IconButton,{\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:props.handler,color:\"inherit\"},props.isLoading?React.createElement(Skeleton,{variant:\"circle\",width:32,height:32}):React.createElement(MaterialAvatar,{alt:props.nickname,src:props.avatar,style:{width:32,height:32}}));})(_templateObject());var Menu=function Menu(_ref){var logout=_ref.logout,open=_ref.open,handleClose=_ref.handleClose,anchorEl=_ref.anchorEl,props=_objectWithoutProperties(_ref,[\"logout\",\"open\",\"handleClose\",\"anchorEl\"]);return React.createElement(MaterialMenu,{id:\"menu-appbar\",anchorEl:anchorEl,keepMounted:true,elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:'bottom',horizontal:'right'},transformOrigin:{vertical:'top',horizontal:'right'},open:open,onClose:handleClose,style:{top:'5px'}},React.createElement(MenuItem,{onClick:function onClick(){handleClose();logout();}},\"Logout\"));};function NavProfile(_ref2){var logout=_ref2.logout,props=_objectWithoutProperties(_ref2,[\"logout\"]);var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var open=Boolean(anchorEl);var handleMenu=function handleMenu(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var menu=React.createElement(Menu,{open:open,handleClose:handleClose,anchorEl:anchorEl,logout:logout});// on logout\nif(UserApi.isAuthenticated&&props.isLoading){return React.createElement(React.Fragment,null,React.createElement(Avatar,{nickname:props.nickname,avatar:props.avatar,isLoading:true,handler:handleMenu}),menu);}// on staying logged in as always\nif(UserApi.isAuthenticated&&!props.isLoading){return React.createElement(React.Fragment,null,React.createElement(Avatar,{nickname:props.nickname,avatar:props.avatar,isLoading:false,handler:handleMenu}),menu);}// on login\nif(!UserApi.isAuthenticated&&props.isLoading){return React.createElement(React.Fragment,null,React.createElement(Avatar,{isLoading:true,handler:handleMenu}),menu);}// on guesting\nif(!UserApi.isAuthenticated&&!props.isLoading){return React.createElement(React.Fragment,null,React.createElement(LoginButton,null));}}export default connect(null,{logout:logout})(withRouter(NavProfile));","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.server/client/src/views/layout/header/NavProfile.js"],"names":["React","IconButton","Avatar","MaterialAvatar","Menu","MaterialMenu","MenuItem","withRouter","connect","logout","UserApi","LoginButton","Skeleton","styled","props","handler","isLoading","nickname","avatar","width","height","open","handleClose","anchorEl","vertical","horizontal","top","NavProfile","useState","setAnchorEl","Boolean","handleMenu","event","currentTarget","menu","isAuthenticated"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport {Avatar as MaterialAvatar} from \"@material-ui/core\";\r\nimport {Menu as MaterialMenu} from \"@material-ui/core\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../../store/ducks/auth/operations\";\r\nimport UserApi from '../../../store/utils/UserApi'\r\nimport LoginButton from \"./LoginButton\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport styled from 'styled-components'\r\n\r\nconst Avatar = styled((props) => {\r\n    return (\r\n        (<IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={props.handler}\r\n            color=\"inherit\"\r\n        >\r\n            {props.isLoading ? (\r\n                    <Skeleton\r\n                        variant=\"circle\"\r\n                        width={32} height={32}\r\n                    />\r\n                ) :\r\n                (<MaterialAvatar\r\n                    alt={props.nickname}\r\n                    src={props.avatar}\r\n                    style={{width: 32, height: 32,}}\r\n                />)}\r\n        </IconButton>)\r\n    )\r\n})``\r\n\r\nconst Menu = ({logout, open, handleClose, anchorEl, ...props}) => {\r\n    return (<MaterialMenu\r\n        id=\"menu-appbar\" anchorEl={anchorEl} keepMounted elevation={0} getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n        }}\r\n        open={open} onClose={handleClose} style={{top: '5px'}}\r\n    >\r\n        {/*+(заказы, статистика, настройки)*/}\r\n        <MenuItem onClick={() => {\r\n            handleClose()\r\n            logout()\r\n        }}>Logout</MenuItem>\r\n    </MaterialMenu>)\r\n}\r\n\r\nfunction NavProfile({logout, ...props}) {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleMenu = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const menu = (\r\n        <Menu\r\n            open={open}\r\n            handleClose={handleClose}\r\n            anchorEl={anchorEl}\r\n            logout={logout}\r\n        />\r\n    )\r\n\r\n    // on logout\r\n    if (UserApi.isAuthenticated && props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    nickname={props.nickname} avatar={props.avatar} isLoading={true}\r\n                    handler={handleMenu}\r\n                />\r\n                {menu}\r\n            </>\r\n        )\r\n    }\r\n\r\n    // on staying logged in as always\r\n    if (UserApi.isAuthenticated && !props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    nickname={props.nickname} avatar={props.avatar} isLoading={false}\r\n                    handler={handleMenu}\r\n                />\r\n                {menu}\r\n            </>\r\n        )\r\n    }\r\n\r\n    // on login\r\n    if (!UserApi.isAuthenticated && props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    isLoading={true}\r\n                    handler={handleMenu}\r\n                />\r\n                {menu}\r\n            </>\r\n        )\r\n    }\r\n\r\n    // on guesting\r\n    if (!UserApi.isAuthenticated && !props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <LoginButton/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, {logout})(withRouter(NavProfile))"]},"metadata":{},"sourceType":"module"}