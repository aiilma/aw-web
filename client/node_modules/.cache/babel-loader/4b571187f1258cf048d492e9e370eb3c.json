{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\src\\\\components\\\\Compositions\\\\CompositionsContainer.js\";\nimport React, { Component } from 'react';\nimport Layout from \"../_layouts/default/Layout\";\nimport Typography from \"@material-ui/core/Typography\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\nimport CompositionList from \"./CompositionList\";\nimport Pager from \"./Pager\";\nimport RCompThumbnail from '../../assets/img/compositions/static.png';\nimport RCompPreview from '../../assets/img/compositions/dynamic.gif';\n\nclass CompositionsContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePageClick = data => {\n      let selected = data.selected;\n      let offset = Math.ceil(selected * 4); // const page = this.props.match.params.page\n\n      this.setState({\n        offset: offset\n      }, () => {\n        this.loadCommentsFromServer();\n      });\n    };\n\n    this.state = {\n      limit: 2,\n      compositions: [],\n      pageCount: 0,\n      offset: 0\n    };\n  }\n\n  loadCommentsFromServer() {\n    setTimeout(() => {\n      const compositions = [{\n        id: 0,\n        title: 'Fear',\n        price: '15.34',\n        thumbnail: RCompThumbnail,\n        preview: RCompPreview,\n        dateCreated: new Date(),\n        author: 'Vitaly',\n        type: 'any',\n        background: ''\n      }, {\n        id: 0,\n        title: 'Fear',\n        price: '15.34',\n        thumbnail: RCompThumbnail,\n        preview: RCompPreview,\n        dateCreated: new Date(),\n        author: 'Vitaly',\n        type: 'any',\n        background: ''\n      }, {\n        id: 0,\n        title: 'Fear',\n        price: '15.34',\n        thumbnail: RCompThumbnail,\n        preview: RCompPreview,\n        dateCreated: new Date(),\n        author: 'Vitaly',\n        type: 'any',\n        background: ''\n      }];\n      this.setState({\n        compositions: compositions,\n        pageCount: Math.ceil(compositions.length / this.state.limit)\n      });\n    }, 1000); // axios.get('/compositions', {\n    //     data: {\n    //         limit: 16,\n    //         offset: this.state.offset\n    //     },\n    // }).then(data => {\n    //     this.setState({\n    //         compositions: data.compositions,\n    //         pageCount: Math.ceil(this.state.compositions.length / this.state.limit),\n    //     });\n    // }).catch((error) => {\n    //     console.log(error);\n    // })\n  }\n\n  componentDidMount() {\n    // console.log(this.props)\n    // const page = this.props.match.params.page\n    this.loadCommentsFromServer();\n  }\n\n  render() {\n    return React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u041B\\u0438\\u0441\\u0442\\u0438\\u043D\\u0433 \\u043A\\u043E\\u043C\\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u0439\"), React.createElement(CompositionList, {\n      compositions: this.state.compositions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Pager, {\n      pageCount: this.state.pageCount,\n      onPageChange: this.handlePageClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(CompositionsContainer);","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/components/Compositions/CompositionsContainer.js"],"names":["React","Component","Layout","Typography","axios","withRouter","CompositionList","Pager","RCompThumbnail","RCompPreview","CompositionsContainer","constructor","props","handlePageClick","data","selected","offset","Math","ceil","setState","loadCommentsFromServer","state","limit","compositions","pageCount","setTimeout","id","title","price","thumbnail","preview","dateCreated","Date","author","type","background","length","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport Layout from \"../_layouts/default/Layout\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport CompositionList from \"./CompositionList\";\r\nimport Pager from \"./Pager\";\r\nimport RCompThumbnail from '../../assets/img/compositions/static.png'\r\nimport RCompPreview from '../../assets/img/compositions/dynamic.gif'\r\n\r\nclass CompositionsContainer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            limit: 2,\r\n            compositions: [],\r\n            pageCount: 0,\r\n            offset: 0,\r\n        }\r\n    }\r\n\r\n    loadCommentsFromServer() {\r\n        setTimeout(() => {\r\n            const compositions = [{\r\n                id: 0,\r\n                title: 'Fear',\r\n                price: '15.34',\r\n                thumbnail: RCompThumbnail,\r\n                preview: RCompPreview,\r\n                dateCreated: new Date(),\r\n                author: 'Vitaly',\r\n                type: 'any',\r\n                background: '',\r\n            },{\r\n                id: 0,\r\n                title: 'Fear',\r\n                price: '15.34',\r\n                thumbnail: RCompThumbnail,\r\n                preview: RCompPreview,\r\n                dateCreated: new Date(),\r\n                author: 'Vitaly',\r\n                type: 'any',\r\n                background: '',\r\n            },{\r\n                id: 0,\r\n                title: 'Fear',\r\n                price: '15.34',\r\n                thumbnail: RCompThumbnail,\r\n                preview: RCompPreview,\r\n                dateCreated: new Date(),\r\n                author: 'Vitaly',\r\n                type: 'any',\r\n                background: '',\r\n            }]\r\n            this.setState({\r\n                compositions: compositions,\r\n                pageCount: Math.ceil(compositions.length / this.state.limit),\r\n            });\r\n        }, 1000)\r\n        // axios.get('/compositions', {\r\n        //     data: {\r\n        //         limit: 16,\r\n        //         offset: this.state.offset\r\n        //     },\r\n        // }).then(data => {\r\n        //     this.setState({\r\n        //         compositions: data.compositions,\r\n        //         pageCount: Math.ceil(this.state.compositions.length / this.state.limit),\r\n        //     });\r\n        // }).catch((error) => {\r\n        //     console.log(error);\r\n        // })\r\n    }\r\n\r\n    componentDidMount() {\r\n        // console.log(this.props)\r\n        // const page = this.props.match.params.page\r\n        this.loadCommentsFromServer();\r\n    }\r\n\r\n    handlePageClick = data => {\r\n        let selected = data.selected;\r\n        let offset = Math.ceil(selected * 4);\r\n        // const page = this.props.match.params.page\r\n\r\n        this.setState({offset: offset}, () => {\r\n            this.loadCommentsFromServer();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Layout>\r\n                <Typography variant=\"h5\" gutterBottom>Листинг композиций</Typography>\r\n                <CompositionList compositions={this.state.compositions}/>\r\n                <Pager pageCount={this.state.pageCount} onPageChange={this.handlePageClick}/>\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(CompositionsContainer)"]},"metadata":{},"sourceType":"module"}