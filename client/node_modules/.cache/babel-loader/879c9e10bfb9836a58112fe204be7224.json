{"ast":null,"code":"import _objectWithoutProperties from \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\src\\\\components\\\\Compositions\\\\CompositionsContainer.js\";\nimport React, { Component } from 'react';\nimport Layout from \"../_layouts/default/Layout\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ReactPaginate from \"react-paginate\";\nimport axios from 'axios';\nimport { withRouter } from \"react-router-dom\";\nimport useStyles from \"./Compositions.style\";\n\nfunction CompositionList(_ref) {\n  let compositions = _ref.compositions,\n      props = _objectWithoutProperties(_ref, [\"compositions\"]);\n\n  const classes = useStyles();\n  let compositionNodes = compositions.map(value => React.createElement(Grid, {\n    key: value,\n    item: true,\n    xs: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  })));\n  return React.createElement(Grid, {\n    container: true,\n    className: classes.root,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, compositionNodes)));\n}\n\nfunction Pager(_ref2) {\n  let pageCount = _ref2.pageCount,\n      onPageChange = _ref2.onPageChange,\n      props = _objectWithoutProperties(_ref2, [\"pageCount\", \"onPageChange\"]);\n\n  const classes = useStyles();\n  return React.createElement(ReactPaginate, {\n    previousLabel: 'previous',\n    nextLabel: 'next',\n    breakLabel: '...',\n    marginPagesDisplayed: 2,\n    pageRangeDisplayed: 5,\n    pageCount: pageCount,\n    onPageChange: onPageChange,\n    containerClassName: classes.cdp,\n    subContainerClassName: 'pages pagination',\n    activeClassName: 'active',\n    breakClassName: 'break-me',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  });\n}\n\nclass CompositionsContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePageClick = data => {\n      let selected = data.selected;\n      let offset = Math.ceil(selected * 4); // const page = this.props.match.params.page\n\n      this.setState({\n        offset: offset\n      }, () => {\n        this.loadCommentsFromServer();\n      });\n    };\n\n    this.state = {\n      limit: 4,\n      compositions: [],\n      pageCount: 0,\n      offset: 0\n    };\n  }\n\n  loadCommentsFromServer() {\n    setTimeout(() => {\n      const compositions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15];\n      this.setState({\n        compositions: compositions,\n        pageCount: Math.ceil(compositions.length / this.state.limit)\n      });\n    }, 1000); // axios.get('/compositions', {\n    //     data: {\n    //         limit: 16,\n    //         offset: this.state.offset\n    //     },\n    // }).then(data => {\n    //     this.setState({\n    //         compositions: data.compositions,\n    //         pageCount: Math.ceil(this.state.compositions.length / this.state.limit),\n    //     });\n    // }).catch((error) => {\n    //     console.log(error);\n    // })\n  }\n\n  componentDidMount() {\n    // console.log(this.props)\n    // const page = this.props.match.params.page\n    this.loadCommentsFromServer();\n  }\n\n  render() {\n    return React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Compositions\"), React.createElement(CompositionList, {\n      compositions: this.state.compositions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(Pager, {\n      pageCount: this.state.pageCount,\n      onPageChange: this.handlePageClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(CompositionsContainer);","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/components/Compositions/CompositionsContainer.js"],"names":["React","Component","Layout","Typography","Grid","Paper","makeStyles","ReactPaginate","axios","withRouter","useStyles","CompositionList","compositions","props","classes","compositionNodes","map","value","paper","root","Pager","pageCount","onPageChange","cdp","CompositionsContainer","constructor","handlePageClick","data","selected","offset","Math","ceil","setState","loadCommentsFromServer","state","limit","setTimeout","length","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport Layout from \"../_layouts/default/Layout\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport ReactPaginate from \"react-paginate\";\r\nimport axios from 'axios';\r\nimport {withRouter} from \"react-router-dom\";\r\nimport useStyles from \"./Compositions.style\";\r\n\r\nfunction CompositionList({compositions, ...props}) {\r\n    const classes = useStyles()\r\n    let compositionNodes = compositions.map(value => (\r\n        <Grid key={value} item xs={3}>\r\n            <Paper className={classes.paper}/>\r\n        </Grid>\r\n    ))\r\n\r\n    return (\r\n        <Grid container className={classes.root} spacing={2}>\r\n            <Grid item xs={12}>\r\n                <Grid container justify=\"center\">\r\n                    {compositionNodes}\r\n                </Grid>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nfunction Pager({pageCount, onPageChange, ...props}) {\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <ReactPaginate\r\n            previousLabel={'previous'} nextLabel={'next'} breakLabel={'...'}\r\n            marginPagesDisplayed={2} pageRangeDisplayed={5}\r\n            pageCount={pageCount} onPageChange={onPageChange}\r\n            containerClassName={classes.cdp} subContainerClassName={'pages pagination'}\r\n            activeClassName={'active'} breakClassName={'break-me'}\r\n        />\r\n    )\r\n}\r\n\r\nclass CompositionsContainer extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            limit: 4,\r\n            compositions: [],\r\n            pageCount: 0,\r\n            offset: 0,\r\n        }\r\n    }\r\n\r\n    loadCommentsFromServer() {\r\n        setTimeout(() => {\r\n            const compositions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\r\n            this.setState({\r\n                compositions: compositions,\r\n                pageCount: Math.ceil(compositions.length / this.state.limit),\r\n            });\r\n        }, 1000)\r\n        // axios.get('/compositions', {\r\n        //     data: {\r\n        //         limit: 16,\r\n        //         offset: this.state.offset\r\n        //     },\r\n        // }).then(data => {\r\n        //     this.setState({\r\n        //         compositions: data.compositions,\r\n        //         pageCount: Math.ceil(this.state.compositions.length / this.state.limit),\r\n        //     });\r\n        // }).catch((error) => {\r\n        //     console.log(error);\r\n        // })\r\n    }\r\n\r\n    componentDidMount() {\r\n        // console.log(this.props)\r\n        // const page = this.props.match.params.page\r\n        this.loadCommentsFromServer();\r\n    }\r\n\r\n    handlePageClick = data => {\r\n        let selected = data.selected;\r\n        let offset = Math.ceil(selected * 4);\r\n        // const page = this.props.match.params.page\r\n\r\n        this.setState({offset: offset}, () => {\r\n            this.loadCommentsFromServer();\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Layout>\r\n                <Typography variant=\"h5\" gutterBottom>Compositions</Typography>\r\n\r\n                <CompositionList compositions={this.state.compositions} />\r\n\r\n                <Pager pageCount={this.state.pageCount} onPageChange={this.handlePageClick} />\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(CompositionsContainer)"]},"metadata":{},"sourceType":"module"}