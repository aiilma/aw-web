{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\src\\\\views\\\\layout\\\\header\\\\LoginButton.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport Button from \"@material-ui/core/Button\";\nimport { login } from \"../../../store/ducks/auth/operations\";\nimport axios from \"../../../store/utils/axios\";\nimport { Link } from \"@material-ui/core\";\n\nclass LoginButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      steamLoginUrl: null\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    console.log(this.state.steamLoginUrl);\n\n    if (this.state.steamLoginUrl !== nextState.steamLoginUrl) {\n      return true;\n    }\n\n    return false;\n  }\n\n  componentWillMount() {\n    axios.get('/api/login/steam').then(response => {\n      if (response.status >= 200 && response.status <= 300) {\n        return response.data;\n      }\n\n      throw new Error('Something went wrong!');\n    }).then(data => {\n      this.setState({\n        steamLoginUrl: data.url\n      });\n    }).catch(error => this.setState({\n      steamLoginUrl: error\n    }));\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.state.steamLoginUrl && React.createElement(Button, {\n      href: this.state.steamLoginUrl,\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"));\n  }\n\n}\n\nexport default connect(null, {\n  login\n})(LoginButton);","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/views/layout/header/LoginButton.js"],"names":["React","connect","Button","login","axios","Link","LoginButton","Component","constructor","props","state","steamLoginUrl","shouldComponentUpdate","nextProps","nextState","nextContext","console","log","componentWillMount","get","then","response","status","data","Error","setState","url","catch","error","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAAQC,KAAR,QAAoB,sCAApB;AACA,OAAOC,KAAP,MAAkB,4BAAlB;AACA,SAAQC,IAAR,QAAmB,mBAAnB;;AAEA,MAAMC,WAAN,SAA0BN,KAAK,CAACO,SAAhC,CAA0C;AAEtCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,aAAa,EAAE;AADN,KAAb;AAGH;;AAEDC,EAAAA,qBAAqB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,WAAvB,EAAoC;AACrDC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWC,aAAvB;;AACA,QAAI,KAAKD,KAAL,CAAWC,aAAX,KAA6BG,SAAS,CAACH,aAA3C,EAA0D;AACtD,aAAO,IAAP;AACH;;AACD,WAAO,KAAP;AACH;;AAGDO,EAAAA,kBAAkB,GAAG;AACjBd,IAAAA,KAAK,CAACe,GAAN,CAAU,kBAAV,EACKC,IADL,CACWC,QAAD,IAAc;AAChB,UAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,IAAmB,GAAjD,EAAsD;AAClD,eAAOD,QAAQ,CAACE,IAAhB;AACH;;AACD,YAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACH,KANL,EAOKJ,IAPL,CAOWG,IAAD,IAAU;AACZ,WAAKE,QAAL,CAAc;AACVd,QAAAA,aAAa,EAAEY,IAAI,CAACG;AADV,OAAd;AAGH,KAXL,EAYKC,KAZL,CAYYC,KAAD,IAAW,KAAKH,QAAL,CAAc;AAC5Bd,MAAAA,aAAa,EAAEiB;AADa,KAAd,CAZtB;AAeH;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI,0CACK,KAAKnB,KAAL,CAAWC,aAAX,IACG,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,aAAzB;AAAwC,MAAA,KAAK,EAAC,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAFR,CADJ;AAQH;;AA7CqC;;AAiD1C,eAAeV,OAAO,CAAC,IAAD,EAAO;AAACE,EAAAA;AAAD,CAAP,CAAP,CAAuBG,WAAvB,CAAf","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {login} from \"../../../store/ducks/auth/operations\";\r\nimport axios from \"../../../store/utils/axios\";\r\nimport {Link} from \"@material-ui/core\";\r\n\r\nclass LoginButton extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            steamLoginUrl: null\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        console.log(this.state.steamLoginUrl)\r\n        if (this.state.steamLoginUrl !== nextState.steamLoginUrl) {\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n\r\n    componentWillMount() {\r\n        axios.get('/api/login/steam')\r\n            .then((response) => {\r\n                if (response.status >= 200 && response.status <= 300) {\r\n                    return response.data;\r\n                }\r\n                throw new Error('Something went wrong!');\r\n            })\r\n            .then((data) => {\r\n                this.setState({\r\n                    steamLoginUrl: data.url\r\n                })\r\n            })\r\n            .catch((error) => this.setState({\r\n                steamLoginUrl: error\r\n            }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.steamLoginUrl && (\r\n                    <Button href={this.state.steamLoginUrl} color=\"inherit\">Войти</Button>\r\n                )}\r\n            </>\r\n        )\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(null, {login})(LoginButton)"]},"metadata":{},"sourceType":"module"}