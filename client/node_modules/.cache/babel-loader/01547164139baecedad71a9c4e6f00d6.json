{"ast":null,"code":"import{initCompleted,initFailed,init}from'./actions';import{me}from\"../auth/operations\";import UserApi from\"../../utils/UserApi\";import{handleHTTPError}from\"../error/operations\";var initApp=function initApp(){return function(dispatch){var promises=[];dispatch(init());if(UserApi.isAuthenticated){var authPromise=dispatch(me());promises.push(authPromise);}return Promise.all(promises).then(function(){dispatch(initCompleted());}).catch(function(err){dispatch(initFailed());dispatch(handleHTTPError(err));});};};export{initApp};","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.server/client/src/store/ducks/app/operations.js"],"names":["initCompleted","initFailed","init","me","UserApi","handleHTTPError","initApp","dispatch","promises","isAuthenticated","authPromise","push","Promise","all","then","catch","err"],"mappings":"AAAA,OAAQA,aAAR,CAAuBC,UAAvB,CAAmCC,IAAnC,KAA8C,WAA9C,CACA,OAAQC,EAAR,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,qBAApB,CACA,OAAQC,eAAR,KAA8B,qBAA9B,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,SAAM,UAACC,QAAD,CAAc,CAChC,GAAMC,CAAAA,QAAQ,CAAG,EAAjB,CAEAD,QAAQ,CAACL,IAAI,EAAL,CAAR,CAEA,GAAIE,OAAO,CAACK,eAAZ,CAA6B,CACzB,GAAMC,CAAAA,WAAW,CAAGH,QAAQ,CAACJ,EAAE,EAAH,CAA5B,CACAK,QAAQ,CAACG,IAAT,CAAcD,WAAd,EACH,CAED,MAAOE,CAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ,EACFM,IADE,CACG,UAAM,CACRP,QAAQ,CAACP,aAAa,EAAd,CAAR,CACH,CAHE,EAIFe,KAJE,CAII,SAAAC,GAAG,CAAI,CACVT,QAAQ,CAACN,UAAU,EAAX,CAAR,CACAM,QAAQ,CAACF,eAAe,CAACW,GAAD,CAAhB,CAAR,CACH,CAPE,CAAP,CAQH,CAlBe,EAAhB,CAoBA,OAAQV,OAAR","sourcesContent":["import {initCompleted, initFailed, init} from './actions'\r\nimport {me} from \"../auth/operations\";\r\nimport UserApi from \"../../utils/UserApi\"\r\nimport {handleHTTPError} from \"../error/operations\";\r\n\r\nconst initApp = () => (dispatch) => {\r\n    const promises = []\r\n\r\n    dispatch(init())\r\n\r\n    if (UserApi.isAuthenticated) {\r\n        const authPromise = dispatch(me())\r\n        promises.push(authPromise)\r\n    }\r\n\r\n    return Promise.all(promises)\r\n        .then(() => {\r\n            dispatch(initCompleted())\r\n        })\r\n        .catch(err => {\r\n            dispatch(initFailed())\r\n            dispatch(handleHTTPError(err))\r\n        })\r\n}\r\n\r\nexport {initApp}"]},"metadata":{},"sourceType":"module"}