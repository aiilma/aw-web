{"ast":null,"code":"import _slicedToArray from \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\src\\\\views\\\\layout\\\\header\\\\NavProfile.js\";\nimport React from 'react';\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { Avatar as MaterialAvatar } from \"@material-ui/core\";\nimport { Menu as MaterialMenu } from \"@material-ui/core\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../../store/ducks/auth/operations\";\nimport UserApi from '../../../store/utils/UserApi';\nimport LoginButton from \"./LoginButton\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport styled from 'styled-components';\nconst Avatar = styled(props => {\n  return React.createElement(IconButton, {\n    \"aria-label\": \"account of current user\",\n    \"aria-controls\": \"menu-appbar\",\n    \"aria-haspopup\": \"true\",\n    onClick: props.handler,\n    color: \"inherit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, props.isLoading ? React.createElement(Skeleton, {\n    variant: \"circle\",\n    width: 32,\n    height: 32,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }) : React.createElement(MaterialAvatar, {\n    alt: props.nickname,\n    src: props.avatar,\n    style: {\n      width: 32,\n      height: 32\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }));\n})``;\n\nconst Menu = (_ref) => {\n  let logout = _ref.logout,\n      open = _ref.open,\n      handleClose = _ref.handleClose,\n      anchorEl = _ref.anchorEl,\n      props = _objectWithoutProperties(_ref, [\"logout\", \"open\", \"handleClose\", \"anchorEl\"]);\n\n  return React.createElement(MaterialMenu, {\n    id: \"menu-appbar\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    elevation: 0,\n    getContentAnchorEl: null,\n    anchorOrigin: {\n      vertical: 'bottom',\n      horizontal: 'right'\n    },\n    transformOrigin: {\n      vertical: 'top',\n      horizontal: 'right'\n    },\n    open: open,\n    onClose: handleClose,\n    style: {\n      top: '5px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: () => {\n      handleClose();\n      logout();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Logout\"));\n};\n\nfunction NavProfile(_ref2) {\n  let logout = _ref2.logout,\n      props = _objectWithoutProperties(_ref2, [\"logout\"]);\n\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        anchorEl = _React$useState2[0],\n        setAnchorEl = _React$useState2[1];\n\n  const open = Boolean(anchorEl);\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const menu = React.createElement(Menu, {\n    open: open,\n    handleClose: handleClose,\n    anchorEl: anchorEl,\n    logout: logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }); // on logout\n\n  if (UserApi.isAuthenticated && props.isLoading) {\n    return React.createElement(React.Fragment, null, React.createElement(Avatar, {\n      nickname: props.nickname,\n      avatar: props.avatar,\n      isLoading: true,\n      handler: handleMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), menu);\n  } // on staying logged in as always\n\n\n  if (UserApi.isAuthenticated && !props.isLoading) {\n    return React.createElement(React.Fragment, null, React.createElement(Avatar, {\n      nickname: props.nickname,\n      avatar: props.avatar,\n      isLoading: false,\n      handler: handleMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), menu);\n  } // on login\n\n\n  if (!UserApi.isAuthenticated && props.isLoading) {\n    return React.createElement(React.Fragment, null, React.createElement(Avatar, {\n      isLoading: true,\n      handler: handleMenu,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), menu);\n  } // on guesting\n\n\n  if (!UserApi.isAuthenticated && !props.isLoading) {\n    return React.createElement(React.Fragment, null, React.createElement(LoginButton, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }));\n  }\n}\n\nexport default connect(null, {\n  logout\n})(withRouter(NavProfile));","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/views/layout/header/NavProfile.js"],"names":["React","IconButton","Avatar","MaterialAvatar","Menu","MaterialMenu","MenuItem","withRouter","connect","logout","UserApi","LoginButton","Skeleton","styled","props","handler","isLoading","nickname","avatar","width","height","open","handleClose","anchorEl","vertical","horizontal","top","NavProfile","useState","setAnchorEl","Boolean","handleMenu","event","currentTarget","menu","isAuthenticated"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport {Avatar as MaterialAvatar} from \"@material-ui/core\";\r\nimport {Menu as MaterialMenu} from \"@material-ui/core\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../../store/ducks/auth/operations\";\r\nimport UserApi from '../../../store/utils/UserApi'\r\nimport LoginButton from \"./LoginButton\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport styled from 'styled-components'\r\n\r\nconst Avatar = styled((props) => {\r\n    return (\r\n        (<IconButton\r\n            aria-label=\"account of current user\"\r\n            aria-controls=\"menu-appbar\"\r\n            aria-haspopup=\"true\"\r\n            onClick={props.handler}\r\n            color=\"inherit\"\r\n        >\r\n            {props.isLoading ? (\r\n                    <Skeleton\r\n                        variant=\"circle\"\r\n                        width={32} height={32}\r\n                    />\r\n                ) :\r\n                (<MaterialAvatar\r\n                    alt={props.nickname}\r\n                    src={props.avatar}\r\n                    style={{width: 32, height: 32,}}\r\n                />)}\r\n        </IconButton>)\r\n    )\r\n})``\r\n\r\nconst Menu = ({logout, open, handleClose, anchorEl, ...props}) => {\r\n    return (<MaterialMenu\r\n        id=\"menu-appbar\" anchorEl={anchorEl} keepMounted elevation={0} getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right',\r\n        }}\r\n        open={open} onClose={handleClose} style={{top: '5px'}}\r\n    >\r\n        {/*+(заказы, статистика, настройки)*/}\r\n        <MenuItem onClick={() => {\r\n            handleClose()\r\n            logout()\r\n        }}>Logout</MenuItem>\r\n    </MaterialMenu>)\r\n}\r\n\r\nfunction NavProfile({logout, ...props}) {\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const open = Boolean(anchorEl);\r\n\r\n    const handleMenu = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const menu = (\r\n        <Menu\r\n            open={open}\r\n            handleClose={handleClose}\r\n            anchorEl={anchorEl}\r\n            logout={logout}\r\n        />\r\n    )\r\n\r\n    // on logout\r\n    if (UserApi.isAuthenticated && props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    nickname={props.nickname} avatar={props.avatar} isLoading={true}\r\n                    handler={handleMenu}\r\n                />\r\n                {menu}\r\n            </>\r\n        )\r\n    }\r\n\r\n    // on staying logged in as always\r\n    if (UserApi.isAuthenticated && !props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    nickname={props.nickname} avatar={props.avatar} isLoading={false}\r\n                    handler={handleMenu}\r\n                />\r\n                {menu}\r\n            </>\r\n        )\r\n    }\r\n\r\n    // on login\r\n    if (!UserApi.isAuthenticated && props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <Avatar\r\n                    isLoading={true}\r\n                    handler={handleMenu}\r\n                />\r\n                {menu}\r\n            </>\r\n        )\r\n    }\r\n\r\n    // on guesting\r\n    if (!UserApi.isAuthenticated && !props.isLoading) {\r\n\r\n        return (\r\n            <>\r\n                <LoginButton/>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, {logout})(withRouter(NavProfile))"]},"metadata":{},"sourceType":"module"}