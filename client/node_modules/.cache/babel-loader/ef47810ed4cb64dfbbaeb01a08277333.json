{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\src\\\\views\\\\pages\\\\SteamAuth\\\\SteamAuth.js\";\nimport React from 'react';\nimport { fetch } from \"../../../store/utils\";\nimport axios from 'axios';\n\nclass SteamAuth extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      error: null,\n      data: {}\n    };\n  }\n\n  componentDidMount() {\n    fetch(`/airlock/csrf-cookie`, \"GET\").then(() => {\n      fetch(`/api/login/steam/callback${this.props.location.search}`, \"GET\").then(data => {\n        this.setState({\n          loading: false,\n          data\n        });\n      }).catch(error => {\n        this.setState({\n          loading: false,\n          error\n        });\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const _this$state = this.state,\n          loading = _this$state.loading,\n          error = _this$state.error,\n          data = _this$state.data;\n\n    if (loading) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Loading....\");\n    }\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Error:\"), React.createElement(\"code\", {\n        className: \"Code-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, error.toString()));\n    } else {\n      console.log(data);\n    }\n\n    return React.createElement(\"details\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"summary\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Welcome\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Here is your info: \"), React.createElement(\"code\", {\n      className: \"Code-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, JSON.stringify(data, null, 2) || null));\n  }\n\n}\n\nexport default SteamAuth;","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/views/pages/SteamAuth/SteamAuth.js"],"names":["React","fetch","axios","SteamAuth","Component","constructor","props","state","loading","error","data","componentDidMount","then","location","search","setState","catch","err","console","log","render","toString","JSON","stringify"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,QAAoB,sBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE,IADA;AAETC,MAAAA,KAAK,EAAE,IAFE;AAGTC,MAAAA,IAAI,EAAE;AAHG,KAAb;AAKH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBV,IAAAA,KAAK,CAAE,sBAAF,EAAyB,KAAzB,CAAL,CACKW,IADL,CACU,MAAM;AACRX,MAAAA,KAAK,CAAE,4BAA2B,KAAKK,KAAL,CAAWO,QAAX,CAAoBC,MAAO,EAAxD,EAA2D,KAA3D,CAAL,CACKF,IADL,CACWF,IAAD,IAAU;AACZ,aAAKK,QAAL,CAAc;AAACP,UAAAA,OAAO,EAAE,KAAV;AAAiBE,UAAAA;AAAjB,SAAd;AACH,OAHL,EAIKM,KAJL,CAIYP,KAAD,IAAW;AACd,aAAKM,QAAL,CAAc;AAACP,UAAAA,OAAO,EAAE,KAAV;AAAiBC,UAAAA;AAAjB,SAAd;AACH,OANL;AAOH,KATL,EAUKO,KAVL,CAUWC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAVlB;AAWH;;AAEDG,EAAAA,MAAM,GAAG;AAAA,wBAC0B,KAAKb,KAD/B;AAAA,UACEC,OADF,eACEA,OADF;AAAA,UACWC,KADX,eACWA,KADX;AAAA,UACkBC,IADlB,eACkBA,IADlB;;AAGL,QAAIF,OAAJ,EAAa;AACT,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAP;AACH;;AAED,QAAIC,KAAJ,EAAW;AACP,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEI;AAAM,QAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8BA,KAAK,CAACY,QAAN,EAA9B,CAFJ,CADJ;AAMH,KAPD,MAOO;AACHH,MAAAA,OAAO,CAACC,GAAR,CAAYT,IAAZ;AACH;;AAED,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFJ,EAGI;AAAM,MAAA,SAAS,EAAC,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8BY,IAAI,CAACC,SAAL,CAAeb,IAAf,EAAqB,IAArB,EAA2B,CAA3B,KAAiC,IAA/D,CAHJ,CADJ;AAOH;;AAjDmC;;AAoDxC,eAAeP,SAAf","sourcesContent":["import React from 'react'\r\nimport {fetch} from \"../../../store/utils\";\r\nimport axios from 'axios'\r\n\r\nclass SteamAuth extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading: true,\r\n            error: null,\r\n            data: {},\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(`/airlock/csrf-cookie`, \"GET\")\r\n            .then(() => {\r\n                fetch(`/api/login/steam/callback${this.props.location.search}`, \"GET\")\r\n                    .then((data) => {\r\n                        this.setState({loading: false, data});\r\n                    })\r\n                    .catch((error) => {\r\n                        this.setState({loading: false, error});\r\n                    });\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n\r\n    render() {\r\n        const {loading, error, data} = this.state;\r\n\r\n        if (loading) {\r\n            return <div>Loading....</div>;\r\n        }\r\n\r\n        if (error) {\r\n            return (\r\n                <div>\r\n                    <p>Error:</p>\r\n                    <code className=\"Code-block\">{error.toString()}</code>\r\n                </div>\r\n            );\r\n        } else {\r\n            console.log(data)\r\n        }\r\n\r\n        return (\r\n            <details>\r\n                <summary>Welcome</summary>\r\n                <p>Here is your info: </p>\r\n                <code className=\"Code-block\">{JSON.stringify(data, null, 2) || null}</code>\r\n            </details>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SteamAuth;"]},"metadata":{},"sourceType":"module"}