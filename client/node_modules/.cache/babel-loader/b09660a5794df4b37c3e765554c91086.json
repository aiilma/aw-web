{"ast":null,"code":"import{authLogin,authLogout,authLoginCompleted,authLogoutCompleted,authLoginFailed,authLogoutFailed}from\"./actions\";import{fetch}from\"../../utils\";import UserApi from\"../../utils/UserApi\";import history from\"../../utils/history\";var login=function login(params){return function(dispatch){dispatch(authLogin());return fetch(\"/airlock/csrf-cookie\",\"GET\").then(function(){fetch(\"/api/login/steam/callback\".concat(params),\"GET\").then(function(user){UserApi.authenticate(function(){return dispatch(authLoginCompleted(user));});}).catch(function(err){dispatch(authLoginFailed());});}).catch(function(err){dispatch(authLoginFailed());});};};var logout=function logout(){return function(dispatch){dispatch(authLogout());history.push('/');return fetch(\"/api/logout\",\"POST\").then(function(res){UserApi.logout(function(){dispatch(authLogoutCompleted());});}).catch(function(err){dispatch(authLogoutFailed(err));});};};var me=function me(){return function(dispatch){dispatch(authLogin());return fetch(\"/api/user\",\"GET\").then(function(user){UserApi.authenticate(function(){return dispatch(authLoginCompleted(user));});return user;}).catch(function(err){dispatch(logout());});};};export{login,logout,me};","map":null,"metadata":{},"sourceType":"module"}