{"ast":null,"code":"import _objectSpread from \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport { fetchCompForm, clearCompForm, makeOrderRequestAC } from './actions';\n\nconst makeOrderRequest = form => (dispatch, getState) => {\n  const _getState$compOrderFo = getState().compOrderForm,\n        alias = _getState$compOrderFo.alias,\n        errors = _getState$compOrderFo.errors;\n\n  const data = _objectSpread({\n    alias: alias\n  }, form);\n\n  const response = dispatch(makeOrderRequestAC(data));\n\n  if (Object.keys(errors).length) {\n    // promise with error\n    return response.then();\n  } else {\n    // result\n    return Promise.resolve(response);\n  }\n};\n\nexport { fetchCompForm, clearCompForm, makeOrderRequest };","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/store/ducks/comp-order-form/operations.js"],"names":["fetchCompForm","clearCompForm","makeOrderRequestAC","makeOrderRequest","form","dispatch","getState","compOrderForm","alias","errors","data","response","Object","keys","length","then","Promise","resolve"],"mappings":";AAAA,SACIA,aADJ,EAEIC,aAFJ,EAGIC,kBAHJ,QAIO,WAJP;;AAMA,MAAMC,gBAAgB,GAAIC,IAAD,IAAU,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAAA,gCAC/BA,QAAQ,GAAGC,aADoB;AAAA,QAChDC,KADgD,yBAChDA,KADgD;AAAA,QACzCC,MADyC,yBACzCA,MADyC;;AAGvD,QAAMC,IAAI;AACNF,IAAAA,KAAK,EAAEA;AADD,KAEHJ,IAFG,CAAV;;AAKA,QAAMO,QAAQ,GAAGN,QAAQ,CAACH,kBAAkB,CAACQ,IAAD,CAAnB,CAAzB;;AAEA,MAAIE,MAAM,CAACC,IAAP,CAAYJ,MAAZ,EAAoBK,MAAxB,EAAgC;AAAE;AAC9B,WAAOH,QAAQ,CAACI,IAAT,EAAP;AACH,GAFD,MAEO;AAAE;AACL,WAAOC,OAAO,CAACC,OAAR,CAAgBN,QAAhB,CAAP;AACH;AACJ,CAfD;;AAiBA,SACIX,aADJ,EAEIC,aAFJ,EAGIE,gBAHJ","sourcesContent":["import {\r\n    fetchCompForm,\r\n    clearCompForm,\r\n    makeOrderRequestAC,\r\n} from './actions'\r\n\r\nconst makeOrderRequest = (form) => (dispatch, getState) => {\r\n    const {alias, errors} = getState().compOrderForm\r\n\r\n    const data = {\r\n        alias: alias,\r\n        ...form\r\n    }\r\n\r\n    const response = dispatch(makeOrderRequestAC(data))\r\n\r\n    if (Object.keys(errors).length) { // promise with error\r\n        return response.then()\r\n    } else { // result\r\n        return Promise.resolve(response);\r\n    }\r\n}\r\n\r\nexport {\r\n    fetchCompForm,\r\n    clearCompForm,\r\n    makeOrderRequest\r\n}"]},"metadata":{},"sourceType":"module"}