{"ast":null,"code":"import{fetch}from\"../utils\";var baseUrl=typeof document===\"undefined\"?\"http://localhost:8000/api\":\"/api\";var apiService=function apiService(){return function(next){return function(action){var result=next(action);if(!action.meta||!action.meta.async){return result;}var _action$meta=action.meta,path=_action$meta.path,_action$meta$method=_action$meta.method,method=_action$meta$method===void 0?\"GET\":_action$meta$method,body=_action$meta.body;if(!path){throw new Error(\"'path' not specified for async action \".concat(action.type));}var url=\"\".concat(baseUrl).concat(path);return fetch(url,method,body).then(function(res){return handleResponse(res,action,next);},function(err){return handleErrors(err,action,next);});};};};export default apiService;function handleErrors(err,action,next){next({type:\"\".concat(action.type,\"_FAILED\"),payload:err,meta:action.meta});return Promise.reject(err);}function handleResponse(res,action,next){next({type:\"\".concat(action.type,\"_COMPLETED\"),payload:res,meta:action.meta});return res;}","map":null,"metadata":{},"sourceType":"module"}