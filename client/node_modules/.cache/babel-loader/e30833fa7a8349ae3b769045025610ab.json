{"ast":null,"code":"import { authCheck, authLogout, authLogin } from \"./actions\";\nimport Http from '../../utils/Http';\n\nconst login = response => {\n  return dispatch => new Promise((resolve, reject) => {\n    if (response.success) {\n      const creds = response.data;\n      dispatch(authLogin(creds));\n      return resolve();\n    } else {\n      return reject();\n    }\n  });\n};\n\nconst logout = () => {\n  return dispatch => new Promise((resolve, reject) => {\n    Http.post('api/auth/logout').then(res => {\n      dispatch(authLogout());\n      return resolve(res.data);\n    }).catch(err => {\n      const statusCode = err.response.status;\n      const data = {\n        error: null,\n        statusCode\n      };\n\n      if (statusCode === 401 || statusCode === 422) {\n        data.error = err.response.data.message;\n      }\n\n      console.log(data);\n      return reject(data);\n    });\n  });\n};\n\nexport { login, logout };","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/store/ducks/auth/operations.js"],"names":["authCheck","authLogout","authLogin","Http","login","response","dispatch","Promise","resolve","reject","success","creds","data","logout","post","then","res","catch","err","statusCode","status","error","message","console","log"],"mappings":"AAAA,SAAQA,SAAR,EAAmBC,UAAnB,EAA+BC,SAA/B,QAA+C,WAA/C;AACA,OAAOC,IAAP,MAAiB,kBAAjB;;AAEA,MAAMC,KAAK,GAAIC,QAAD,IAAc;AAExB,SAAOC,QAAQ,IACX,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC7B,QAAIJ,QAAQ,CAACK,OAAb,EAAsB;AAAA,YACLC,KADK,GACIN,QADJ,CACXO,IADW;AAElBN,MAAAA,QAAQ,CAACJ,SAAS,CAACS,KAAD,CAAV,CAAR;AACA,aAAOH,OAAO,EAAd;AACH,KAJD,MAIO;AACH,aAAOC,MAAM,EAAb;AACH;AACJ,GARD,CADJ;AAYH,CAdD;;AAgBA,MAAMI,MAAM,GAAG,MAAM;AACjB,SAAOP,QAAQ,IACX,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAE7BN,IAAAA,IAAI,CAACW,IAAL,CAAU,iBAAV,EACKC,IADL,CACWC,GAAD,IAAS;AACXV,MAAAA,QAAQ,CAACL,UAAU,EAAX,CAAR;AACA,aAAOO,OAAO,CAACQ,GAAG,CAACJ,IAAL,CAAd;AACH,KAJL,EAKKK,KALL,CAKWC,GAAG,IAAI;AACV,YAAMC,UAAU,GAAGD,GAAG,CAACb,QAAJ,CAAae,MAAhC;AACA,YAAMR,IAAI,GAAG;AACTS,QAAAA,KAAK,EAAE,IADE;AAETF,QAAAA;AAFS,OAAb;;AAIA,UAAIA,UAAU,KAAK,GAAf,IAAsBA,UAAU,KAAK,GAAzC,EAA8C;AAC1CP,QAAAA,IAAI,CAACS,KAAL,GAAaH,GAAG,CAACb,QAAJ,CAAaO,IAAb,CAAkBU,OAA/B;AACH;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AACA,aAAOH,MAAM,CAACG,IAAD,CAAb;AACH,KAhBL;AAiBH,GAnBD,CADJ;AAsBH,CAvBD;;AA0BA,SACIR,KADJ,EACWS,MADX","sourcesContent":["import {authCheck, authLogout, authLogin} from \"./actions\";\r\nimport Http from '../../utils/Http'\r\n\r\nconst login = (response) => {\r\n\r\n    return dispatch => (\r\n        new Promise((resolve, reject) => {\r\n            if (response.success) {\r\n                const {data: creds} = response\r\n                dispatch(authLogin(creds));\r\n                return resolve();\r\n            } else {\r\n                return reject();\r\n            }\r\n        })\r\n    )\r\n\r\n}\r\n\r\nconst logout = () => {\r\n    return dispatch => (\r\n        new Promise((resolve, reject) => {\r\n\r\n            Http.post('api/auth/logout')\r\n                .then((res) => {\r\n                    dispatch(authLogout())\r\n                    return resolve(res.data)\r\n                })\r\n                .catch(err => {\r\n                    const statusCode = err.response.status;\r\n                    const data = {\r\n                        error: null,\r\n                        statusCode,\r\n                    };\r\n                    if (statusCode === 401 || statusCode === 422) {\r\n                        data.error = err.response.data.message;\r\n                    }\r\n                    console.log(data)\r\n                    return reject(data);\r\n                })\r\n        })\r\n    )\r\n}\r\n\r\n\r\nexport {\r\n    login, logout\r\n}"]},"metadata":{},"sourceType":"module"}