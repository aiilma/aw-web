{"ast":null,"code":"import _slicedToArray from\"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.server\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.server\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";import _taggedTemplateLiteral from\"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.server\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import IconButton from\"@material-ui/core/IconButton\";import{Avatar as MaterialAvatar}from\"@material-ui/core\";import{Menu as MaterialMenu}from\"@material-ui/core\";import MenuItem from\"@material-ui/core/MenuItem\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import{logout}from\"../../../store/ducks/auth/operations\";import UserApi from'../../../store/utils/UserApi';import LoginButton from\"./LoginButton\";import Skeleton from\"@material-ui/lab/Skeleton\";import styled from'styled-components';var Avatar=styled(function(props){return React.createElement(IconButton,{\"aria-label\":\"account of current user\",\"aria-controls\":\"menu-appbar\",\"aria-haspopup\":\"true\",onClick:props.handler,color:\"inherit\"},props.isLoading?React.createElement(Skeleton,{variant:\"circle\",width:32,height:32}):React.createElement(MaterialAvatar,{alt:props.nickname,src:props.avatar,style:{width:32,height:32}}));})(_templateObject());var Menu=function Menu(_ref){var logout=_ref.logout,open=_ref.open,handleClose=_ref.handleClose,anchorEl=_ref.anchorEl,props=_objectWithoutProperties(_ref,[\"logout\",\"open\",\"handleClose\",\"anchorEl\"]);return React.createElement(MaterialMenu,{id:\"menu-appbar\",anchorEl:anchorEl,keepMounted:true,elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:'bottom',horizontal:'right'},transformOrigin:{vertical:'top',horizontal:'right'},open:open,onClose:handleClose,style:{top:'5px'}},React.createElement(MenuItem,{onClick:function onClick(){handleClose();logout();}},\"Logout\"));};function NavProfile(_ref2){var logout=_ref2.logout,props=_objectWithoutProperties(_ref2,[\"logout\"]);var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),anchorEl=_React$useState2[0],setAnchorEl=_React$useState2[1];var open=Boolean(anchorEl);var handleMenu=function handleMenu(event){setAnchorEl(event.currentTarget);};var handleClose=function handleClose(){setAnchorEl(null);};var menu=React.createElement(Menu,{open:open,handleClose:handleClose,anchorEl:anchorEl,logout:logout});// on logout\nif(UserApi.isAuthenticated&&props.isLoading){return React.createElement(React.Fragment,null,React.createElement(Avatar,{nickname:props.nickname,avatar:props.avatar,isLoading:true,handler:handleMenu}),menu);}// on staying logged in as always\nif(UserApi.isAuthenticated&&!props.isLoading){return React.createElement(React.Fragment,null,React.createElement(Avatar,{nickname:props.nickname,avatar:props.avatar,isLoading:false,handler:handleMenu}),menu);}// on login\nif(!UserApi.isAuthenticated&&props.isLoading){return React.createElement(React.Fragment,null,React.createElement(Avatar,{isLoading:true,handler:handleMenu}),menu);}// on guesting\nif(!UserApi.isAuthenticated&&!props.isLoading){return React.createElement(React.Fragment,null,React.createElement(LoginButton,null));}}export default connect(null,{logout:logout})(withRouter(NavProfile));","map":null,"metadata":{},"sourceType":"module"}