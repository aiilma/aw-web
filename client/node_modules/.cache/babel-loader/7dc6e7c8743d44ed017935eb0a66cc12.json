{"ast":null,"code":"import * as axios from 'axios';\nexport default ((url, method, body) => {\n  const options = {\n    method,\n    headers: requestHeaders(),\n    body: method !== \"GET\" ? JSON.stringify(body) : null\n  };\n\n  if (method === \"POST\") {\n    return axios.post(url, JSON.stringify(body), options).then(res => parseStatus(res.status, res.data));\n  }\n\n  if (method === \"GET\") {\n    return axios.get(url, options).then(res => parseStatus(res.status, res.data));\n  } // .catch(err => console.log(err))\n  // .then(res => {console.log(res)}, err => {console.log(err)})\n\n});\n\nfunction parseStatus(status, res) {\n  return new Promise((resolve, reject) => {\n    console.log(res);\n\n    if (status >= 200 && status < 300) {\n      resolve(res.data);\n    } else {\n      reject({\n        status,\n        res\n      });\n    }\n  });\n}\n\nfunction requestHeaders() {\n  return {\n    \"Accept\": \"application/json\",\n    \"Content-Type\": \"application/json\"\n  };\n}","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/store/utils/fetch.js"],"names":["axios","url","method","body","options","headers","requestHeaders","JSON","stringify","post","then","res","parseStatus","status","data","get","Promise","resolve","reject","console","log"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,gBAAe,CAACC,GAAD,EAAMC,MAAN,EAAcC,IAAd,KAAuB;AAElC,QAAMC,OAAO,GAAG;AACZF,IAAAA,MADY;AAEZG,IAAAA,OAAO,EAAEC,cAAc,EAFX;AAGZH,IAAAA,IAAI,EAAED,MAAM,KAAK,KAAX,GAAmBK,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAnB,GAA0C;AAHpC,GAAhB;;AAMA,MAAID,MAAM,KAAK,MAAf,EAAuB;AACnB,WAAOF,KAAK,CAACS,IAAN,CAAWR,GAAX,EAAgBM,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAhB,EAAsCC,OAAtC,EACFM,IADE,CACGC,GAAG,IAAIC,WAAW,CAACD,GAAG,CAACE,MAAL,EAAaF,GAAG,CAACG,IAAjB,CADrB,CAAP;AAEH;;AACD,MAAIZ,MAAM,KAAK,KAAf,EAAsB;AAClB,WAAOF,KAAK,CAACe,GAAN,CAAUd,GAAV,EAAeG,OAAf,EACFM,IADE,CACGC,GAAG,IAAIC,WAAW,CAACD,GAAG,CAACE,MAAL,EAAaF,GAAG,CAACG,IAAjB,CADrB,CAAP;AAEH,GAfiC,CAkBlC;AACA;;AACH,CApBD;;AAsBA,SAASF,WAAT,CAAqBC,MAArB,EAA6BF,GAA7B,EAAkC;AAC9B,SAAO,IAAIK,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCC,IAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;;AACA,QAAIE,MAAM,IAAI,GAAV,IAAiBA,MAAM,GAAG,GAA9B,EAAmC;AAC/BI,MAAAA,OAAO,CAACN,GAAG,CAACG,IAAL,CAAP;AACH,KAFD,MAEO;AACHI,MAAAA,MAAM,CAAC;AAACL,QAAAA,MAAD;AAASF,QAAAA;AAAT,OAAD,CAAN;AACH;AACJ,GAPM,CAAP;AAQH;;AAED,SAASL,cAAT,GAA0B;AACtB,SAAO;AACH,cAAU,kBADP;AAEH,oBAAgB;AAFb,GAAP;AAIH","sourcesContent":["import * as axios from 'axios'\r\n\r\nexport default (url, method, body) => {\r\n\r\n    const options = {\r\n        method,\r\n        headers: requestHeaders(),\r\n        body: method !== \"GET\" ? JSON.stringify(body) : null\r\n    };\r\n\r\n    if (method === \"POST\") {\r\n        return axios.post(url, JSON.stringify(body), options)\r\n            .then(res => parseStatus(res.status, res.data))\r\n    }\r\n    if (method === \"GET\") {\r\n        return axios.get(url, options)\r\n            .then(res => parseStatus(res.status, res.data))\r\n    }\r\n\r\n\r\n    // .catch(err => console.log(err))\r\n    // .then(res => {console.log(res)}, err => {console.log(err)})\r\n};\r\n\r\nfunction parseStatus(status, res) {\r\n    return new Promise((resolve, reject) => {\r\n        console.log(res)\r\n        if (status >= 200 && status < 300) {\r\n            resolve(res.data);\r\n        } else {\r\n            reject({status, res});\r\n        }\r\n    });\r\n}\r\n\r\nfunction requestHeaders() {\r\n    return {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}