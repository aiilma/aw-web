{"ast":null,"code":"import _objectWithoutProperties from \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\Projects\\\\php\\\\Laravel\\\\aw.client\\\\src\\\\views\\\\pages\\\\CompOrderForm\\\\Container.js\";\nimport React, { Component } from 'react';\nimport { withFormik } from 'formik';\nimport { connect } from \"react-redux\";\nimport SecondaryLayout from \"../../layout/SecondaryLayout\";\nimport { Spacer } from \"../../common/layout\";\nimport { FormWrapper, InnerFormSpacer, PlaceholderList, Title, TypeVariants } from \"../../common/form_components\";\nimport Grid from \"@material-ui/core/Grid\";\nimport OrderFormSummarize from \"./Summarize/Summarize\";\nimport OrderFormControls from \"./Controls/Controls\";\nimport { compose } from \"redux\";\nimport { checkOnMax, checkOnMin, checkOnRequired } from \"../../../store/utils/form_helpers\";\nimport { clearCompForm, fetchCompForm } from \"../../../store/ducks/comp-order-form/actions\";\n\nconst OrderFormWrapper = (_ref) => {\n  let _ref$caption = _ref.caption,\n      caption = _ref$caption === void 0 ? \"Безымянный\" : _ref$caption,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? \"xl\" : _ref$size,\n      children = _ref.children,\n      props = _objectWithoutProperties(_ref, [\"caption\", \"size\", \"children\"]);\n\n  return React.createElement(SecondaryLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, React.createElement(Spacer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17\n    },\n    __self: this\n  }), React.createElement(FormWrapper, {\n    maxWidth: size,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, React.createElement(InnerFormSpacer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(Title, {\n    text: caption,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    onSubmit: props.handleSubmit,\n    noValidate: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, children))));\n};\n\nclass OrderForm extends Component {\n  componentDidMount() {\n    const _this$props = this.props,\n          fetchCompForm = _this$props.fetchCompForm,\n          match = _this$props.match;\n    const alias = match.params.alias;\n    fetchCompForm(alias);\n  }\n\n  componentWillUnmount() {\n    const clearCompForm = this.props.clearCompForm;\n    clearCompForm();\n  }\n\n  render() {\n    const _this$props2 = this.props,\n          values = _this$props2.values,\n          touched = _this$props2.touched,\n          errors = _this$props2.errors,\n          _this$props2$orderFor = _this$props2.orderFormData,\n          typeVariant = _this$props2$orderFor.typeVariant,\n          ph = _this$props2$orderFor.ph,\n          price = _this$props2$orderFor.price,\n          title = _this$props2$orderFor.title,\n          isFetching = _this$props2$orderFor.isFetching,\n          handleSubmit = _this$props2.handleSubmit,\n          handleReset = _this$props2.handleReset;\n    return React.createElement(OrderFormWrapper, {\n      caption: \"\\u0424\\u043E\\u0440\\u043C\\u0430 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\",\n      handleSubmit: handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(TypeVariants, {\n      variant: typeVariant,\n      values: values,\n      touched: touched,\n      errors: errors,\n      isFetching: isFetching,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), Object.keys(ph).length > 0 && React.createElement(PlaceholderList, {\n      inputs: ph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(OrderFormSummarize, {\n      price: price,\n      title: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(OrderFormControls, {\n      onReset: handleReset,\n      onBack: () => {\n        this.props.history.goBack();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }));\n  }\n\n}\n\nconst getDefaultValues = (_ref2) => {\n  let typeVariant = _ref2.typeVariant,\n      ph = _ref2.ph,\n      state = _objectWithoutProperties(_ref2, [\"typeVariant\", \"ph\"]);\n\n  let values = {\n    typeVariant: typeVariant === 0 ? '' : typeVariant === 1 ? \"long\" : \"short\"\n  }; // inputs\n\n  Object.keys(ph).forEach(keyName => {\n    values[keyName] = '';\n  });\n  return values;\n};\n\nconst mapStateToProps = state => ({\n  orderFormData: state.compOrderForm\n});\n\nconst MyEnhancedForm = withFormik({\n  mapPropsToValues: props => getDefaultValues(props.orderFormData),\n  // Custom sync validation\n  validate: (values, _ref3) => {\n    let _ref3$orderFormData = _ref3.orderFormData,\n        ph = _ref3$orderFormData.ph,\n        typeVariant = _ref3$orderFormData.typeVariant,\n        props = _objectWithoutProperties(_ref3, [\"orderFormData\"]);\n\n    const errors = {};\n    const rules = {};\n    Object.keys(ph).forEach(keyName => {\n      rules[keyName] = ph[keyName].rules;\n    });\n    if (typeVariant === 0 && !values.typeVariant) errors[\"typeVariant\"] = \"Required\";\n    Object.keys(rules).forEach(keyName => {\n      if (/required/ig.test(rules[keyName]) && !checkOnRequired(values[keyName])) {\n        errors[keyName] = 'Required';\n      }\n\n      if (/min:\\d{1,2}/ig.test(rules[keyName])) {\n        let rule = rules[keyName].match(/min:\\d{1,2}/ig)[0];\n        let limit = +rule.match(/\\d+/ig)[0];\n\n        if (!checkOnMin(values[keyName], limit)) {\n          errors[keyName] = `Minimum length is ${limit}`;\n        }\n      }\n\n      if (/max:\\d{1,2}/ig.test(rules[keyName])) {\n        let rule = rules[keyName].match(/max:\\d{1,2}/ig)[0];\n        let limit = +rule.match(/\\d+/ig)[0];\n\n        if (!checkOnMax(values[keyName], limit)) {\n          errors[keyName] = `Maximum length is ${limit}`;\n        }\n      }\n    });\n    return errors;\n  },\n  handleSubmit: (values, _ref4) => {\n    let setSubmitting = _ref4.setSubmitting,\n        props = _objectWithoutProperties(_ref4, [\"setSubmitting\"]);\n\n    setSubmitting(true);\n    console.log(JSON.stringify(values, null, 2));\n    setSubmitting(false);\n    props.props.history.push(`${props.props.location.pathname}/success`);\n  },\n  // enableReinitialize: true,\n  displayName: 'OrderForm'\n})(OrderForm);\nexport default connect(mapStateToProps, {\n  fetchCompForm,\n  clearCompForm\n})(MyEnhancedForm);","map":{"version":3,"sources":["D:/Projects/php/Laravel/aw.client/src/views/pages/CompOrderForm/Container.js"],"names":["React","Component","withFormik","connect","SecondaryLayout","Spacer","FormWrapper","InnerFormSpacer","PlaceholderList","Title","TypeVariants","Grid","OrderFormSummarize","OrderFormControls","compose","checkOnMax","checkOnMin","checkOnRequired","clearCompForm","fetchCompForm","OrderFormWrapper","caption","size","children","props","handleSubmit","OrderForm","componentDidMount","match","alias","params","componentWillUnmount","render","values","touched","errors","orderFormData","typeVariant","ph","price","title","isFetching","handleReset","Object","keys","length","history","goBack","getDefaultValues","state","forEach","keyName","mapStateToProps","compOrderForm","MyEnhancedForm","mapPropsToValues","validate","rules","test","rule","limit","setSubmitting","console","log","JSON","stringify","push","location","pathname","displayName"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,UAAR,QAAyB,QAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,SAAQC,MAAR,QAAqB,qBAArB;AACA,SAAQC,WAAR,EAAqBC,eAArB,EAAsCC,eAAtC,EAAuDC,KAAvD,EAA8DC,YAA9D,QAAiF,8BAAjF;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,kBAAP,MAA+B,uBAA/B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAAQC,OAAR,QAAsB,OAAtB;AACA,SAAQC,UAAR,EAAoBC,UAApB,EAAgCC,eAAhC,QAAsD,mCAAtD;AACA,SAAQC,aAAR,EAAuBC,aAAvB,QAA2C,8CAA3C;;AAEA,MAAMC,gBAAgB,GAAG,UAA+D;AAAA,0BAA7DC,OAA6D;AAAA,MAA7DA,OAA6D,6BAAnD,YAAmD;AAAA,uBAArCC,IAAqC;AAAA,MAArCA,IAAqC,0BAA9B,IAA8B;AAAA,MAAxBC,QAAwB,QAAxBA,QAAwB;AAAA,MAAXC,KAAW;;AACpF,SACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEF,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAED,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAM,IAAA,QAAQ,EAAEG,KAAK,CAACC,YAAtB;AAAoC,IAAA,UAAU,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKF,QADL,CAFJ,CADJ,CAFJ,CADJ;AAaH,CAdD;;AAiBA,MAAMG,SAAN,SAAwBzB,SAAxB,CAAkC;AAC9B0B,EAAAA,iBAAiB,GAAG;AAAA,wBACe,KAAKH,KADpB;AAAA,UACTL,aADS,eACTA,aADS;AAAA,UACMS,KADN,eACMA,KADN;AAEhB,UAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACAV,IAAAA,aAAa,CAACU,KAAD,CAAb;AACH;;AAEDE,EAAAA,oBAAoB,GAAG;AAAA,UACZb,aADY,GACK,KAAKM,KADV,CACZN,aADY;AAEnBA,IAAAA,aAAa;AAChB;;AAEDc,EAAAA,MAAM,GAAG;AAAA,yBAGD,KAAKR,KAHJ;AAAA,UAEDS,MAFC,gBAEDA,MAFC;AAAA,UAEOC,OAFP,gBAEOA,OAFP;AAAA,UAEgBC,MAFhB,gBAEgBA,MAFhB;AAAA,+CAEwBC,aAFxB;AAAA,UAEwCC,WAFxC,yBAEwCA,WAFxC;AAAA,UAEqDC,EAFrD,yBAEqDA,EAFrD;AAAA,UAEyDC,KAFzD,yBAEyDA,KAFzD;AAAA,UAEgEC,KAFhE,yBAEgEA,KAFhE;AAAA,UAEuEC,UAFvE,yBAEuEA,UAFvE;AAAA,UAEoFhB,YAFpF,gBAEoFA,YAFpF;AAAA,UAEkGiB,WAFlG,gBAEkGA,WAFlG;AAKL,WACI,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAC,qEAA1B;AAAyC,MAAA,YAAY,EAAEjB,YAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI,oBAAC,YAAD;AACI,MAAA,OAAO,EAAEY,WADb;AAC0B,MAAA,MAAM,EAAEJ,MADlC;AAEI,MAAA,OAAO,EAAEC,OAFb;AAEsB,MAAA,MAAM,EAAEC,MAF9B;AAGI,MAAA,UAAU,EAAEM,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EASKE,MAAM,CAACC,IAAP,CAAYN,EAAZ,EAAgBO,MAAhB,GAAyB,CAAzB,IACG,oBAAC,eAAD;AAAiB,MAAA,MAAM,EAAEP,EAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVR,CADJ,EAeI,oBAAC,kBAAD;AAAoB,MAAA,KAAK,EAAEC,KAA3B;AAAkC,MAAA,KAAK,EAAEC,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfJ,EAgBI,oBAAC,iBAAD;AAAmB,MAAA,OAAO,EAAEE,WAA5B;AAAyC,MAAA,MAAM,EAAE,MAAM;AACnD,aAAKlB,KAAL,CAAWsB,OAAX,CAAmBC,MAAnB;AACH,OAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,CADJ;AAsBH;;AAvC6B;;AA0ClC,MAAMC,gBAAgB,GAAG,WAAiC;AAAA,MAA/BX,WAA+B,SAA/BA,WAA+B;AAAA,MAAlBC,EAAkB,SAAlBA,EAAkB;AAAA,MAAXW,KAAW;;AACtD,MAAIhB,MAAM,GAAG;AACTI,IAAAA,WAAW,EAAEA,WAAW,KAAK,CAAhB,GAAoB,EAApB,GAAyBA,WAAW,KAAK,CAAhB,GAAoB,MAApB,GAA6B;AAD1D,GAAb,CADsD,CAKtD;;AACAM,EAAAA,MAAM,CAACC,IAAP,CAAYN,EAAZ,EAAgBY,OAAhB,CAAwBC,OAAO,IAAI;AAC/BlB,IAAAA,MAAM,CAACkB,OAAD,CAAN,GAAkB,EAAlB;AACH,GAFD;AAIA,SAAOlB,MAAP;AACH,CAXD;;AAYA,MAAMmB,eAAe,GAAIH,KAAD,KAAY;AAChCb,EAAAA,aAAa,EAAEa,KAAK,CAACI;AADW,CAAZ,CAAxB;;AAIA,MAAMC,cAAc,GAAGpD,UAAU,CAAC;AAC9BqD,EAAAA,gBAAgB,EAAG/B,KAAD,IAAYwB,gBAAgB,CAACxB,KAAK,CAACY,aAAP,CADhB;AAG9B;AACAoB,EAAAA,QAAQ,EAAE,CAACvB,MAAD,YAA0D;AAAA,oCAAhDG,aAAgD;AAAA,QAAhCE,EAAgC,uBAAhCA,EAAgC;AAAA,QAA5BD,WAA4B,uBAA5BA,WAA4B;AAAA,QAAXb,KAAW;;AAChE,UAAMW,MAAM,GAAG,EAAf;AACA,UAAMsB,KAAK,GAAG,EAAd;AAEAd,IAAAA,MAAM,CAACC,IAAP,CAAYN,EAAZ,EAAgBY,OAAhB,CAAwBC,OAAO,IAAI;AAC/BM,MAAAA,KAAK,CAACN,OAAD,CAAL,GAAiBb,EAAE,CAACa,OAAD,CAAF,CAAYM,KAA7B;AACH,KAFD;AAIA,QAAIpB,WAAW,KAAK,CAAhB,IAAqB,CAACJ,MAAM,CAACI,WAAjC,EAA8CF,MAAM,CAAC,aAAD,CAAN,GAAwB,UAAxB;AAE9CQ,IAAAA,MAAM,CAACC,IAAP,CAAYa,KAAZ,EAAmBP,OAAnB,CAA2BC,OAAO,IAAI;AAClC,UAAI,aAAaO,IAAb,CAAkBD,KAAK,CAACN,OAAD,CAAvB,KAAqC,CAAClC,eAAe,CAACgB,MAAM,CAACkB,OAAD,CAAP,CAAzD,EAA4E;AACxEhB,QAAAA,MAAM,CAACgB,OAAD,CAAN,GAAkB,UAAlB;AACH;;AACD,UAAI,gBAAgBO,IAAhB,CAAqBD,KAAK,CAACN,OAAD,CAA1B,CAAJ,EAA0C;AACtC,YAAIQ,IAAI,GAAGF,KAAK,CAACN,OAAD,CAAL,CAAevB,KAAf,CAAqB,eAArB,EAAsC,CAAtC,CAAX;AACA,YAAIgC,KAAK,GAAG,CAACD,IAAI,CAAC/B,KAAL,CAAW,OAAX,EAAoB,CAApB,CAAb;;AACA,YAAI,CAACZ,UAAU,CAACiB,MAAM,CAACkB,OAAD,CAAP,EAAkBS,KAAlB,CAAf,EAAyC;AACrCzB,UAAAA,MAAM,CAACgB,OAAD,CAAN,GAAmB,qBAAoBS,KAAM,EAA7C;AACH;AACJ;;AACD,UAAI,gBAAgBF,IAAhB,CAAqBD,KAAK,CAACN,OAAD,CAA1B,CAAJ,EAA0C;AACtC,YAAIQ,IAAI,GAAGF,KAAK,CAACN,OAAD,CAAL,CAAevB,KAAf,CAAqB,eAArB,EAAsC,CAAtC,CAAX;AACA,YAAIgC,KAAK,GAAG,CAACD,IAAI,CAAC/B,KAAL,CAAW,OAAX,EAAoB,CAApB,CAAb;;AACA,YAAI,CAACb,UAAU,CAACkB,MAAM,CAACkB,OAAD,CAAP,EAAkBS,KAAlB,CAAf,EAAyC;AACrCzB,UAAAA,MAAM,CAACgB,OAAD,CAAN,GAAmB,qBAAoBS,KAAM,EAA7C;AACH;AACJ;AACJ,KAlBD;AAoBA,WAAOzB,MAAP;AACH,GAnC6B;AAqC9BV,EAAAA,YAAY,EAAE,CAACQ,MAAD,YAAuC;AAAA,QAA7B4B,aAA6B,SAA7BA,aAA6B;AAAA,QAAXrC,KAAW;;AACjDqC,IAAAA,aAAa,CAAC,IAAD,CAAb;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAehC,MAAf,EAAuB,IAAvB,EAA6B,CAA7B,CAAZ;AACA4B,IAAAA,aAAa,CAAC,KAAD,CAAb;AACArC,IAAAA,KAAK,CAACA,KAAN,CAAYsB,OAAZ,CAAoBoB,IAApB,CAA0B,GAAE1C,KAAK,CAACA,KAAN,CAAY2C,QAAZ,CAAqBC,QAAS,UAA1D;AACH,GA1C6B;AA4C9B;AAEAC,EAAAA,WAAW,EAAE;AA9CiB,CAAD,CAAV,CA+CpB3C,SA/CoB,CAAvB;AAgDA,eAAevB,OAAO,CAACiD,eAAD,EAAkB;AAACjC,EAAAA,aAAD;AAAgBD,EAAAA;AAAhB,CAAlB,CAAP,CAAyDoC,cAAzD,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {withFormik} from 'formik';\r\nimport {connect} from \"react-redux\";\r\nimport SecondaryLayout from \"../../layout/SecondaryLayout\";\r\nimport {Spacer} from \"../../common/layout\";\r\nimport {FormWrapper, InnerFormSpacer, PlaceholderList, Title, TypeVariants} from \"../../common/form_components\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport OrderFormSummarize from \"./Summarize/Summarize\";\r\nimport OrderFormControls from \"./Controls/Controls\";\r\nimport {compose} from \"redux\";\r\nimport {checkOnMax, checkOnMin, checkOnRequired} from \"../../../store/utils/form_helpers\";\r\nimport {clearCompForm, fetchCompForm} from \"../../../store/ducks/comp-order-form/actions\";\r\n\r\nconst OrderFormWrapper = ({caption = \"Безымянный\", size = \"xl\", children, ...props}) => {\r\n    return (\r\n        <SecondaryLayout>\r\n            <Spacer/>\r\n            <FormWrapper maxWidth={size}>\r\n                <InnerFormSpacer>\r\n                    <Title text={caption}/>\r\n                    <form onSubmit={props.handleSubmit} noValidate>\r\n                        {children}\r\n                    </form>\r\n                </InnerFormSpacer>\r\n            </FormWrapper>\r\n        </SecondaryLayout>\r\n    )\r\n}\r\n\r\n\r\nclass OrderForm extends Component {\r\n    componentDidMount() {\r\n        const {fetchCompForm, match} = this.props\r\n        const alias = match.params.alias\r\n        fetchCompForm(alias)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const {clearCompForm} = this.props\r\n        clearCompForm()\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            values, touched, errors, orderFormData: {typeVariant, ph, price, title, isFetching}, handleSubmit, handleReset\r\n        } = this.props;\r\n\r\n        return (\r\n            <OrderFormWrapper caption=\"Форма заказа\" handleSubmit={handleSubmit}>\r\n                <Grid container>\r\n\r\n                    {/*type varient*/}\r\n                    <TypeVariants\r\n                        variant={typeVariant} values={values}\r\n                        touched={touched} errors={errors}\r\n                        isFetching={isFetching}\r\n                    />\r\n                    {/*inputs*/}\r\n                    {Object.keys(ph).length > 0 && (\r\n                        <PlaceholderList inputs={ph}/>\r\n                    )}\r\n\r\n                </Grid>\r\n                <OrderFormSummarize price={price} title={title}/>\r\n                <OrderFormControls onReset={handleReset} onBack={() => {\r\n                    this.props.history.goBack()\r\n                }}/>\r\n            </OrderFormWrapper>\r\n        );\r\n    }\r\n}\r\n\r\nconst getDefaultValues = ({typeVariant, ph, ...state}) => {\r\n    let values = {\r\n        typeVariant: typeVariant === 0 ? '' : typeVariant === 1 ? \"long\" : \"short\"\r\n    }\r\n\r\n    // inputs\r\n    Object.keys(ph).forEach(keyName => {\r\n        values[keyName] = ''\r\n    })\r\n\r\n    return values\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    orderFormData: state.compOrderForm\r\n})\r\n\r\nconst MyEnhancedForm = withFormik({\r\n    mapPropsToValues: (props) => (getDefaultValues(props.orderFormData)),\r\n\r\n    // Custom sync validation\r\n    validate: (values, {orderFormData: {ph, typeVariant}, ...props}) => {\r\n        const errors = {};\r\n        const rules = {}\r\n\r\n        Object.keys(ph).forEach(keyName => {\r\n            rules[keyName] = ph[keyName].rules\r\n        })\r\n\r\n        if (typeVariant === 0 && !values.typeVariant) errors[\"typeVariant\"] = \"Required\"\r\n\r\n        Object.keys(rules).forEach(keyName => {\r\n            if (/required/ig.test(rules[keyName]) && !checkOnRequired(values[keyName])) {\r\n                errors[keyName] = 'Required'\r\n            }\r\n            if (/min:\\d{1,2}/ig.test(rules[keyName])) {\r\n                let rule = rules[keyName].match(/min:\\d{1,2}/ig)[0]\r\n                let limit = +rule.match(/\\d+/ig)[0]\r\n                if (!checkOnMin(values[keyName], limit)) {\r\n                    errors[keyName] = `Minimum length is ${limit}`\r\n                }\r\n            }\r\n            if (/max:\\d{1,2}/ig.test(rules[keyName])) {\r\n                let rule = rules[keyName].match(/max:\\d{1,2}/ig)[0]\r\n                let limit = +rule.match(/\\d+/ig)[0]\r\n                if (!checkOnMax(values[keyName], limit)) {\r\n                    errors[keyName] = `Maximum length is ${limit}`\r\n                }\r\n            }\r\n        })\r\n\r\n        return errors;\r\n    },\r\n\r\n    handleSubmit: (values, {setSubmitting, ...props}) => {\r\n        setSubmitting(true);\r\n        console.log(JSON.stringify(values, null, 2));\r\n        setSubmitting(false);\r\n        props.props.history.push(`${props.props.location.pathname}/success`)\r\n    },\r\n\r\n    // enableReinitialize: true,\r\n\r\n    displayName: 'OrderForm',\r\n})(OrderForm)\r\nexport default connect(mapStateToProps, {fetchCompForm, clearCompForm})(MyEnhancedForm)"]},"metadata":{},"sourceType":"module"}